{"version":3,"sources":["webpack:///./src/components/logicflowConfig/common/methods.js","webpack:///./src/components/logicflowConfig/group .js$","webpack:///./src/components/logicflowConfig/edge .js$","webpack:///./src/App.vue?b32e","webpack:///./src/App.vue","webpack:///src/App.vue","webpack:///./src/components/logicflowConfig/init.js","webpack:///src/components/MSFGComponents/NodePanel.vue","webpack:///./src/components/MSFGComponents/NodePanel.vue?bb2c","webpack:///./src/components/MSFGComponents/NodePanel.vue","webpack:///./src/components/logicflowConfig/tools/menu.js","webpack:///src/components/MSFGComponents/Control.vue","webpack:///./src/components/MSFGComponents/Control.vue?0201","webpack:///./src/components/MSFGComponents/Control.vue","webpack:///src/components/MSFGComponents/EditDialog.vue","webpack:///./src/components/MSFGComponents/EditDialog.vue?2180","webpack:///./src/components/MSFGComponents/EditDialog.vue","webpack:///./src/components/logicflowConfig/common/commonConfig.js","webpack:///./src/components/logicflowConfig/tools/util.js","webpack:///./src/components/logicflowConfig/tools/listeners.js","webpack:///./src/components/logicflowConfig/index.js","webpack:///src/components/MSFG.vue","webpack:///./src/components/MSFG.vue?7a28","webpack:///./src/components/MSFG.vue","webpack:///src/components/MultiProcess.vue","webpack:///./src/components/MultiProcess.vue?b0d2","webpack:///./src/components/MultiProcess.vue","webpack:///./src/router/index.js","webpack:///./src/utils/setaxios.js","webpack:///./src/main.js","webpack:///./src/components/logicflowConfig/node/SwitchNode.js","webpack:///./src/components/logicflowConfig/node .js$","webpack:///./src/components/logicflowConfig/node/TestNode.js","webpack:///./src/components/logicflowConfig/node/AlgorithmNode.js","webpack:///./src/components/logicflowConfig/group/SubSystem.js","webpack:///./src/components/logicflowConfig/edge/CustomEdge.js","webpack:///./src/assets/images/delay.svg","webpack:///./src/components/logicflowConfig/node/FaultNode.js","webpack:///./src/components/logicflowConfig/node/BaseNode.js"],"names":["WIDTH","HEIGHT","getuuid","index","toString","Date","now","autoArrange","graphStruct","h","w","nodes_pure","nodes","filter","itm","type","nodes_","map","id","idMap_pure","edges_","edges","source","indexOf","sourceNodeId","target","targetNodeId","sankey","nodeWidth","nodePadding","size","links","maxDepth","Math","max","apply","concat","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_toConsumableArray___default","depth","idMap","forEach","k","x","parseInt","y","x0","x1","text","recScale","getScale","j","allScale","children","min","properties","nodeSize","width","height","Sindex","Eindex","startPoint","endPoint","pointsList","exportStruct","nodeList","linkList","value","node","showConfig","position","control","switchType","normalState","itm_","push","from","to","startAnchor","endAnchor","interAnchors","importStruct","showType","arguments","length","undefined","count","autopos","collision","fuzzible","detectable","state","fuzzy_state","includes","_graphStruct","getColorRGB_check","typeColor","getColorRGB_analyse","fuzzy_ratio","getColorRGB_check_sub","getColorRGB_analyse_sub","getBytesLength","word","totalLength","i","c","charCodeAt","match","./SubSystem.js","webpackContext","req","__webpack_require__","webpackContextResolve","Error","keys","Object","resolve","module","exports","./CustomEdge.js","selectortype_template_index_0_src_App","render","_h","this","$createElement","_c","_self","attrs","staticRenderFns","src_App","normalizeComponent","name","ssrContext","common","icon","require","flevel","algorithm","subsystemInit","NodePanel","props","lf","Array","methods","$_dragNode","item","$props","dnd","startDrag","MSFGComponents_NodePanel","_vm","staticClass","_l","key","style","backgroundColor","on","mousedown","$event","_v","_s","backgroundImage","components_MSFGComponents_NodePanel","NodePanel_normalizeComponent","controlConfig","zoomIn","zoomOut","zoomReset","translateRest","reset","undo","redo","clear","reDraw","exportData","importData","importFMECA","check","optimizeCkpt","analyse","Control","String","data","undoDisable","redoDisable","a","document","createElement","fileName","jsonText","reader","Visible","dialogType","result","detect_isolat_radis","col_names","computed","dialogTitle","mounted","_this","_ref","_ref$data","undoAble","redoAble","$data","$_zoomIn","zoom","$_zoomOut","$_zoomReset","resetZoom","$_translateRest","resetTranslate","$_reset","$_undo","$_redo","$_clear","clearData","$_reDraw","getGraphRawData","$_exportData","_this2","getGraphData","$Modal","confirm","placeholder","autofocus","input","val","onOk","stringify_default","download","href","window","URL","createObjectURL","Blob","dispatchEvent","MouseEvent","$_importData","file","_this3","promise_default","reject","FileReader","readAsText","raw","onerror","error","onload","JSON","parse","then","res","$_importFMECA","_this4","fd","FormData","append","$axios","url","method","console","log","$_optimizeCkpt","_this5","$alert","$_check","_this6","toConsumableArray_default","D_mat","raw_names","raw_name","$_analyse","_this7","$_test","MSFGComponents_Control","click","_e","disabled","staticStyle","display","margin-left","action","auto-upload","accept","multiple","show-file-list","on-change","title","visible","modal","update:visible","column","border","label","prop","scopedSlots","_u","fn","scope","row","background-color","color","components_MSFGComponents_Control","Control_normalizeComponent","EditDialog","dialogVisible","Boolean","formData","required","form","rules","text.value","message","trigger","properties.flevel","properties.algorithm","faultLevelList","algorithmList","formDataUpdate","$refs","validate","valid","errs","$emit","closeDialog","openDialog","extends_default","watch","MSFGComponents_EditDialog","before-close","open","ref","model","label-width","callback","$$v","$set","expression","text-align","clearable","level","active-color","inactive-color","slot","components_MSFGComponents_EditDialog","EditDialog_normalizeComponent","editConfig","isSilentMode","stopZoomGraph","stopScrollGraph","stopMoveGraph","adjustEdge","adjustEdgeMiddle","adjustEdgeStartAndEnd","adjustNodePosition","hideAnchors","nodeTextEdit","edgeTextEdit","nodeTextDraggable","edgeTextDraggable","metaKeyMultipleSelected","keyboardConfig","enabled","gridConfig","config","thickness","extraConfig","isWholeEdge","isWholeNode","utils","createSub","getSelectElements","clearSelectElements","_lf$extension$selecti","extension","selectionSelect","transformModel","graphModel","_transformModel$HtmlP","HtmlPointToCanvasPoint","_transformModel$HtmlP2","slicedToArray_default","y1","_transformModel$HtmlP3","_transformModel$HtmlP4","addNode","foldAllChild","child","nodeID","getNodeModelById","isFolded","foldGroup","unfoldAllChild","listeners","$_LfEvent","_ref2","_ref3","_transformModel$Canva","CanvasPointToHtmlPoint","_transformModel$Canva2","left","top","element","className","innerHTML","querySelector","appendChild","remove","_ref4","edgeModel","getEdgeModels","deleteEdge","targetAnchorId","nodeModulesFiles","registerNodeList","modulePath","groupModulesFiles","registerGroupList","edgeModulesFiles","registerEdgeList","$_initLf","LogicFlow","container","keyboard","grid","plugins","Menu","Group","Snapshot","DndPanel","SelectionSelect","setSelectionSense","$_registerNode","register","default","group","edge","setDefaultEdgeType","$_render","menu","setMenuConfig","nodeMenu","deleteNode","eventCenter","emit","edgeMenu","setMenuByType","select","sub","some","parent","addChild","removeChild","dndPanel","setPatternItems","openSelectionSelect","once","closeSelectionSelect","MSFG","components","logicflowConfig_methods","$_dataUpdate","_node","updateText","setProperties","components_MSFG","dialog-visible","form-data","update:dialogVisible","update:dialog-visible","data-update","MultiProcess","MSFG_normalizeComponent","components_MultiProcess","src_components_MultiProcess","MultiProcess_normalizeComponent","Vue","use","Router","router","routes","path","component","axios","defaults","baseURL","timeout","headers","post","withCredentials","interceptors","request","response","Notification","duration","msg","ElementUI","ViewUI","productionTip","prototype","Axios","el","App","template","SwitchNodeModel","__WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_get___default","__proto__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_get_prototype_of___default","call","defaultFill","sourceRules","sourceNode","targetNode","sourceAnchor","targetAnchor","targetRules","BaseNode","SwitchNodeView","view","__webpack_exports__","./AlgorithmNode.js","./BaseNode.js","./FaultNode.js","./SwitchNode.js","./TestNode.js","TestNodeModel","TestNodeView","AlgorithmNodeModel","AlgorithmNodeView","SelectGroupModel","resizable","foldable","foldedWidth","foldedHeight","isFold","setTimeout","textValue","replace","slice","stroke","strokeWidth","strokeDasharray","fill","fontSize","fontWeight","lineHeight","unfoldedWidth","unfoldedHight","GroupNode","SelectGroupView","_props","foldX","foldY","unFoldIcon","transform","pointer-events","d","foldIcon","rx","ry","cursor","onClick","deleteGroup","getDeleteIcon","CustomEdgeModel","customTextPosition","currentPositionList","points","split","_item$split","_item$split2","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_slicedToArray___default","Number","_currentPositionList$","_currentPositionList$2","_currentPositionList$3","_currentPositionList$4","x2","y2","distence","isAnimation","animationDuration","PolylineEdgeModel","CustomEdge","PolylineEdge","FaultNodeModel","FaultNodeView","RedNodeModel","__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_get___default","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_prototype_of___default","radius","iconPosition","ceil","setAttributes","dataStyle","isSelected","borderWidth","borderColor","hover","ui","RectNodeModel","RedNodeView","anchorData","_props$model","getNodeStyle","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default","fillOpacity","getIcon","strokeOpacity","_props$model2","RectNode"],"mappings":"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","file":"static/js/app.3db61b4a7048f6b60b51.js","sourcesContent":["import { sankey } from \"d3-sankey\"\n\nconst WIDTH = 100\nconst HEIGHT = 30\n\nfunction getuuid (index) {\n  if (!index) {\n    index = 0\n  }\n  return index.toString(16) + \"-\" + Date.now().toString(16)\n}\n\nfunction getScale (nodes_pure, idMap_pure, nodes, idMap, k, maxDepth, w) {\n  if (nodes[k].type != \"sub-system\") {\n    let j = idMap_pure.indexOf(nodes[k].id)\n    return [\n      parseInt((nodes_pure[j].depth / maxDepth) * w * 0.8) - WIDTH / 2,\n      parseInt((nodes_pure[j].depth / maxDepth) * w * 0.8) + WIDTH / 2,\n      parseInt((nodes_pure[j].x0 + nodes_pure[j].x1) * 0.4) - HEIGHT / 2,\n      parseInt((nodes_pure[j].x0 + nodes_pure[j].x1) * 0.4) + HEIGHT / 2\n    ]\n  } else {\n    let allScale = nodes[k].children.map(itm => { return getScale(nodes_pure, idMap_pure, nodes, idMap, idMap.indexOf(itm), maxDepth, w) })\n    return [\n      Math.min(...allScale.map(itm => itm[0])) - 50,\n      Math.max(...allScale.map(itm => itm[1])) + 50,\n      Math.min(...allScale.map(itm => itm[2])) - 50,\n      Math.max(...allScale.map(itm => itm[3])) + 50\n    ]\n  }\n}\n\nfunction autoArrange (graphStruct, h, w) {\n  let nodes_pure = graphStruct.nodes.filter(itm => {return itm.type !== \"sub-system\"})\n  let nodes_ = nodes_pure.map(itm => {return {id: itm.id}})\n  let idMap_pure = nodes_pure.map(itm => itm.id)\n  let edges_ = graphStruct.edges.map(itm => {return {source: idMap_pure.indexOf(itm.sourceNodeId), target: idMap_pure.indexOf(itm.targetNodeId)}})\n  let nodes = sankey().nodeWidth(WIDTH).nodePadding(10).size([h, w]).nodes(nodes_).links(edges_)().nodes\n  var maxDepth = Math.max(1, ...nodes.map(itm => itm.depth))\n  let idMap = graphStruct.nodes.map(itm => itm.id)\n  graphStruct.nodes.forEach((itm, k) => {\n    if (itm.type !== \"sub-system\") {\n      graphStruct.nodes[k].x = parseInt((nodes[k].depth / maxDepth) * w * 0.8)\n      graphStruct.nodes[k].y = parseInt((nodes[k].x0 + nodes[k].x1) * 0.4)\n      graphStruct.nodes[k].text.x = graphStruct.nodes[k].x + WIDTH / 2\n      graphStruct.nodes[k].text.y = graphStruct.nodes[k].y\n    } else {\n      let recScale = getScale(nodes, idMap_pure, graphStruct.nodes, idMap, k, maxDepth, w)\n      graphStruct.nodes[k].x = (recScale[0] + recScale[1]) / 2\n      graphStruct.nodes[k].y = (recScale[2] + recScale[3]) / 2\n      graphStruct.nodes[k].properties.nodeSize.width = recScale[1] - recScale[0]\n      graphStruct.nodes[k].properties.nodeSize.height = recScale[3] - recScale[2]\n    }\n  })\n  graphStruct.edges.forEach((itm, k) => {\n    let Sindex = idMap.indexOf(graphStruct.edges[k].sourceNodeId)\n    let Eindex = idMap.indexOf(graphStruct.edges[k].targetNodeId)\n    if (graphStruct.nodes[Sindex].type == \"switch-node\") {\n      graphStruct.edges[k].startPoint.x = graphStruct.nodes[Sindex].x + WIDTH / 2\n      graphStruct.edges[k].startPoint.y = graphStruct.nodes[Sindex].y\n      graphStruct.edges[k].endPoint.x = graphStruct.nodes[Eindex].x\n      if (graphStruct.nodes[Sindex].y > graphStruct.edges[k].endPoint.y) {\n        graphStruct.edges[k].endPoint.y = graphStruct.nodes[Eindex].y + HEIGHT / 2\n      } else {\n        graphStruct.edges[k].endPoint.y = graphStruct.nodes[Eindex].y - HEIGHT / 2\n      }\n      graphStruct.edges[k].pointsList = []\n    } else {\n      graphStruct.edges[k].startPoint.x = graphStruct.nodes[Sindex].x + WIDTH / 2\n      graphStruct.edges[k].startPoint.y = graphStruct.nodes[Sindex].y\n      graphStruct.edges[k].endPoint.x = graphStruct.nodes[Eindex].x - WIDTH / 2\n      graphStruct.edges[k].endPoint.y = graphStruct.nodes[Eindex].y\n      graphStruct.edges[k].pointsList = []\n    }\n  })\n  return graphStruct\n}\n\nfunction exportStruct (graphStruct) {\n  let nodeList = []\n  let linkList = []\n  let idMap = {}\n\n  graphStruct.nodes.forEach(itm => {\n    idMap[itm.id] = itm.text.value\n  })\n\n  graphStruct.nodes.forEach(itm => {\n    let node = {\n      text: itm.text.value,\n      type: itm.type,\n      showConfig: {\n        position: {x: itm.x, y: itm.y},\n        properties: itm.properties,\n      }\n    }\n\n    if (itm.type==\"switch-node\") {\n      node.control = idMap[itm.properties.control]\n      node.switchType = itm.properties.normalState ? \"常闭\" : \"常开\"\n    } else if (itm.type==\"sub-system\") {\n      node.children = itm.children.map(itm_ => { return idMap[itm_] })\n    } else {\n\n    }\n    nodeList.push(node)\n  })\n\n  graphStruct.edges.forEach(itm => {\n    linkList.push({\n      id: itm.id,\n      from: idMap[itm.sourceNodeId],\n      to: idMap[itm.targetNodeId],\n      type: itm.type,\n      showConfig: {\n        startAnchor: itm.startPoint,\n        endAnchor: itm.endPoint,\n        interAnchors: itm.pointsList,\n        properties: itm.properties,\n      },\n    })\n  })\n  return {\n    nodes: nodeList,\n    edges: linkList\n  }\n}\n\nfunction importStruct (graphStruct, showType='edit', h=900, w=1200) {\n  let nodeList = []\n  let linkList = []\n  let idMap = []\n  let count = 0\n  let autopos = false\n\n  graphStruct.nodes.forEach(itm => {\n    count += 1\n    idMap[itm.text] = getuuid(count * 2)\n  })\n\n  graphStruct.nodes.forEach(itm => {\n    if (itm.showConfig.position.x === null || typeof itm.showConfig.position.x === \"undefined\" || itm.showConfig.position.y === null || typeof itm.showConfig.position.y === \"undefined\") {\n      autopos = true\n    }\n    let node = {\n      id: idMap[itm.text],\n      text: {\n        value: itm.text,\n        x: itm.showConfig.position.x + WIDTH / 2,\n        y: itm.showConfig.position.y,\n      },\n      type: itm.type,\n      x: itm.showConfig.position.x,\n      y: itm.showConfig.position.y,\n      properties: itm.showConfig.properties,\n    }\n    // show type config\n    node.properties.showType = showType\n    if (showType === 'check') {\n      node.properties.collision = itm.collision\n      node.properties.fuzzible = itm.fuzzible\n      node.properties.detectable = itm.detectable\n    } else if (showType === 'analyse') {\n      node.properties.state = itm.state\n      node.properties.fuzzy_state = itm.fuzzy_state\n    }\n    // special properties\n    if (itm.type == \"switch-node\") {\n      node.properties.control = idMap[itm.control]\n      node.properties.normalState = itm.switchType.includes(\"闭\")\n    } else if (itm.type == \"sub-system\") {\n      node.children = itm.children.map(itm_ => { return idMap[itm_] })\n    } else {\n\n    }\n    nodeList.push(node)\n  })\n  graphStruct.edges.forEach(itm => {\n    count += 1\n    linkList.push({\n      id: idMap[itm.from] + \"-\" + idMap[itm.to] + \"-\" + getuuid(count * 2 + 1),\n      sourceNodeId: idMap[itm.from],\n      targetNodeId: idMap[itm.to],\n      type: itm.type,\n      startPoint: itm.showConfig.startAnchor,\n      endPoint: itm.showConfig.endAnchor,\n      pointsList: itm.showConfig.interAnchors,\n      properties: itm.showConfig.properties,\n    })\n  })\n\n  let _graphStruct = {\n    nodes: nodeList,\n    edges: linkList\n  }\n\n  if (autopos) {\n    _graphStruct = autoArrange(_graphStruct, h, w)\n  }\n\n  return _graphStruct\n}\n\nfunction getColorRGB_check (collision, fuzzible, detectable, typeColor) {\n  if (collision) {\n    return \"rgb(255, 0, 0)\"\n  } else if (fuzzible) {\n    return \"rgb(0, 0, 255)\"\n  } else if (!detectable) {\n    return \"rgb(150, 150, 150)\"\n  } else {\n    return typeColor //Replace by Type-Defined Color\n  }\n}\n\nfunction getColorRGB_analyse (state, fuzzy_state, fuzzy_ratio) {\n  if (fuzzy_state == null) {\n    fuzzy_state = 0\n  }\n  if (fuzzy_ratio == null) {\n    fuzzy_ratio = 0.75\n  }\n  fuzzy_state *= fuzzy_ratio\n  if (state == null) {\n    return \"rgb(150, 150, 150)\"\n  } else if (state < 0.5) {\n    return 'rgb(' + parseInt((1 - fuzzy_state) * state * 255 + fuzzy_state * 128) + \",\"\n                  + parseInt((1 - fuzzy_state) * 255 + fuzzy_state * 128) + \",\"\n                  + parseInt(fuzzy_state * 128)  + \")\"\n  } else {\n    return 'rgb(' + parseInt((1 - fuzzy_state) * 255 + fuzzy_state * 128) + \",\"\n                  + parseInt((1 - fuzzy_state) * (1 - state) * 255 + fuzzy_state * 128) + \",\"\n                  + parseInt(fuzzy_state * 128)  + \")\"\n  }\n}\n\nfunction getColorRGB_check_sub (collision, fuzzible, detectable, typeColor) {\n  if (collision) {\n    return \"rgba(255, 0, 0, 0.45)\"\n  } else if (fuzzible) {\n    return \"rgba(0, 0, 255, 0.45)\"\n  } else if (!detectable) {\n    return \"rgba(150, 150, 150, 0.45)\"\n  } else {\n    return typeColor //Replace by Type-Defined Color\n  }\n}\n\nfunction getColorRGB_analyse_sub (state, fuzzy_state, fuzzy_ratio) {\n  if (fuzzy_state == null) {\n    fuzzy_state = 0\n  }\n  if (fuzzy_ratio == null) {\n    fuzzy_ratio = 0.75\n  }\n  fuzzy_state *= fuzzy_ratio\n  if (state == null) {\n    return \"rgba(150, 150, 150, 0.45)\"\n  } else if (state < 0.5) {\n    return 'rgba(' + parseInt((1 - fuzzy_state) * state * 255 + fuzzy_state * 128) + \",\"\n                  + parseInt((1 - fuzzy_state) * 255 + fuzzy_state * 128) + \",\"\n                  + parseInt(fuzzy_state * 128)  + \", 0.45)\"\n  } else {\n    return 'rgba(' + parseInt((1 - fuzzy_state) * 255 + fuzzy_state * 128) + \",\"\n                  + parseInt((1 - fuzzy_state) * (1 - state) * 255 + fuzzy_state * 128) + \",\"\n                  + parseInt(fuzzy_state * 128)  + \", 0.45)\"\n  }\n}\n\nfunction getBytesLength (word) {\n  if (!word) {\n    return 0\n  }\n  let totalLength = 0\n  for (let i = 0; i < word.length; i++) {\n    const c = word.charCodeAt(i)\n    if ((word.match(/[A-Z]/))) {\n      totalLength += 1.5\n    } else if ((c >= 0x0001 && c <= 0x007e) || (c >= 0xff60 && c <= 0xff9f)) {\n      totalLength += 1\n    } else {\n      totalLength += 1.8\n    }\n  }\n  return totalLength\n}\n\nexport {\n  importStruct,\n  exportStruct,\n  getColorRGB_check,\n  getColorRGB_analyse,\n  getColorRGB_check_sub,\n  getColorRGB_analyse_sub,\n  getBytesLength\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/logicflowConfig/common/methods.js","var map = {\n\t\"./SubSystem.js\": \"a9Io\"\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"2Il6\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/logicflowConfig/group .js$\n// module id = 2Il6\n// module chunks = 1","var map = {\n\t\"./CustomEdge.js\": \"e7zF\"\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"4oUL\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/logicflowConfig/edge .js$\n// module id = 4oUL\n// module chunks = 1","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-759e8f3a\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-759e8f3a\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-759e8f3a\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"app\">\n    <!-- <router-link to=\"/Root\">Root</router-link>\n    <router-link to=\"/user\">User</router-link> -->\n    <router-view/>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'App'\n}\n</script>\n\n<style>\n#app {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin-top: 0px;\n  height:100vh;\n  width:100%\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","/**\n * 公有初始化属性\n */\nconst common = {\n  showType: 'edit',\n  collision : false,\n  detectable: true,\n  fuzzible: false,\n  fuzzy_state: 0,\n  state: 0\n}\n\n/**\n * 节点初始化\n */\nconst nodeList = [\n  {\n    type: 'test-node',\n    text: '测试',\n    properties: {\n      // common\n      ...common,\n      icon: require(\"@/assets/images/delay.svg\"),\n      typeColor: '#eea2a4',\n      // special\n    }\n  },\n  {\n    type: 'fault-node',\n    text: '故障',\n    properties: {\n      // common\n      ...common,\n      icon: require(\"@/assets/images/delay.svg\"),\n      typeColor: '#edc3ae',\n      // special\n      flevel: 0, //故障等级\n    }\n  },\n  {\n    type: 'switch-node',\n    text: '开关',\n    properties: {\n      // common\n      ...common,\n      icon: require(\"@/assets/images/delay.svg\"),\n      typeColor: '#96c24e',\n      // special\n      normalState: true, // true | false 开关常态（常开|常闭）\n      control: null, // 控制节点\n    }\n  },\n  {\n    type: 'algorithm-node',\n    text: '算法',\n    properties: {\n      // common\n      ...common,\n      icon: require(\"@/assets/images/delay.svg\"),\n      typeColor: '#85C1E9',\n      // special\n      algorithm: 0, // 算法\n    }\n  }\n]\n\n/**\n * 子系统初始化\n */\nconst subsystemInit = {\n  type: \"sub-system\",\n  text: '子系统',\n  properties: {\n    ...common\n  }\n}\n\nexport { nodeList, subsystemInit }\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/logicflowConfig/init.js","<template>\n  <div class=\"node-panel\">\n    <div\n      class=\"red-ui-palette-node ui-draggable ui-draggable-handle\"\n      @mousedown=\"$_dragNode(item)\"\n      v-for=\"(item, index) in nodeList\"\n      :key=\"index\"\n      :style=\"{ backgroundColor: item.properties.typeColor }\"\n    >\n      <div class=\"red-ui-palette-label\">{{ item.text }}</div>\n      <div class=\"red-ui-palette-icon-container\">\n        <div class=\"red-ui-palette-icon\" :style=\"{ backgroundImage: `url(${item.properties.icon})`}\"></div>\n      </div>\n      <!-- <div class=\"red-ui-palette-port red-ui-palette-port-input\"></div>\n      <div class=\"red-ui-palette-port red-ui-palette-port-output\"></div> -->\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'NodePanel',\n  props: {\n    lf: Object,\n    nodeList: Array,\n  },\n  methods: {\n    $_dragNode (item) {\n      this.$props.lf.dnd.startDrag({\n        type: item.type,\n        text: item.text,\n        properties: item.properties\n      })\n    }\n  }\n}\n</script>\n\n<style>\n.node-panel {\n  position: absolute;\n  top: 100px;\n  left: 0px;\n  width: 150px;\n  padding: 20px 10px;\n  background-color: white;\n  box-shadow: 0 0 10px 1px rgb(228, 224, 219);\n  border-radius: 6px;\n  text-align: center;\n  z-index: 101;\n}\n.node-item {\n  margin-bottom: 20px;\n}\n.node-item-icon {\n  width: 30px;\n  height: 30px;\n  margin-left: 20px;\n  background-size: cover;\n}\n.node-label {\n  font-size: 12px;\n  margin-top: 5px;\n  user-select: none;\n}\n.red-ui-palette-node {\n  cursor: move;\n  background: #fff;\n  margin: 10px auto;\n  height: 25px;\n  border-radius: 5px;\n  border: 1px solid #999;\n  background-position: 5% 50%;\n  background-repeat: no-repeat;\n  width: 120px;\n  background-size: contain;\n  position: relative;\n}\n.red-ui-palette-label {\n  color: #333;\n  font-size: 13px;\n  margin: 4px 0 4px 32px;\n  line-height: 20px;\n  overflow: hidden;\n  text-align: center;\n  -webkit-user-select: none;\n  -khtml-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n.red-ui-palette-icon-container {\n  position: absolute;\n  text-align: center;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  width: 30px;\n  border-right: 1px solid rgba(0,0,0,.05);\n  background-color: rgba(0,0,0,.05);\n}\n.red-ui-palette-icon {\n  display: inline-block;\n  width: 20px;\n  height: 100%;\n  background-position: 50% 50%;\n  background-size: contain;\n  background-repeat: no-repeat;\n}\n/* .red-ui-palette-port-output {\n  left: auto;\n  right: -6px;\n}\n.red-ui-palette-port {\n  position: absolute;\n  top: 8px;\n  left: -5px;\n  box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  background: #d9d9d9;\n  border-radius: 3px;\n  width: 10px;\n  height: 10px;\n  border: 1px solid #999;\n}\n.red-ui-palette-port-output {\n  left: auto;\n  right: -6px;\n} */\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/MSFGComponents/NodePanel.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"node-panel\"},_vm._l((_vm.nodeList),function(item,index){return _c('div',{key:index,staticClass:\"red-ui-palette-node ui-draggable ui-draggable-handle\",style:({ backgroundColor: item.properties.typeColor }),on:{\"mousedown\":function($event){return _vm.$_dragNode(item)}}},[_c('div',{staticClass:\"red-ui-palette-label\"},[_vm._v(_vm._s(item.text))]),_vm._v(\" \"),_c('div',{staticClass:\"red-ui-palette-icon-container\"},[_c('div',{staticClass:\"red-ui-palette-icon\",style:({ backgroundImage: (\"url(\" + (item.properties.icon) + \")\")})})])])}),0)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3b43f061\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/MSFGComponents/NodePanel.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3b43f061\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./NodePanel.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./NodePanel.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./NodePanel.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3b43f061\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./NodePanel.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/MSFGComponents/NodePanel.vue\n// module id = null\n// module chunks = ","/**\n * 自定义菜单栏 参考 http://logic-flow.org/guide/extension/component-menu.html\n */\nconst menu = {\n  $_render () {\n    // 自定义常规右键菜单\n    this.lf.extension.menu.setMenuConfig({\n      // 节点右键菜单\n      nodeMenu: [\n        {\n          text: '删除',\n          callback: (node) => {\n            this.lf.deleteNode(node.id)\n          }\n        },\n        {\n          text: '编辑节点属性',\n          callback: (node) => {\n            this.lf.graphModel.eventCenter.emit('node:edit', node)\n          }\n        }\n      ],\n      // 边右键菜单\n      edgeMenu: [\n        {\n          text: '删除',\n          callback: (edge) => {\n            this.lf.deleteEdge(edge.id)\n          }\n        }\n      ]\n    })\n    // 自定义选区右键菜单\n    this.lf.extension.menu.setMenuByType({\n      type: 'lf:defaultSelectionMenu',\n      menu: [\n        {\n          text:'删除',\n          callback: (select) => {\n            select.nodes.map((item) => {this.lf.deleteNode(item.id)})\n            select.edges.map((item) => {this.lf.deleteEdge(item.id)})\n          }\n        },\n        {\n          text:'分组',\n          callback: this.createSub\n        }\n      ]\n    })\n    // 自定义子系统右键菜单\n    this.lf.extension.menu.setMenuByType({\n      type: 'sub-system',\n      menu: [\n        {\n          text:'删除子系统',\n          callback: (node) => {\n            this.lf.deleteNode(node.id)\n          }\n        },\n        {\n          text:'解除子系统',\n          callback: (node) => {\n            let sub = this.lf.getNodeModelById(node.id)\n            let { nodes } = this.lf.getGraphRawData()\n            nodes.some((itm) => {\n              if (itm.type === 'sub-system' && itm.children.indexOf(node.id) !== -1) {\n                let parent = this.lf.getNodeModelById(itm.id)\n                node.children.forEach((child) => { parent.addChild(child) })\n                return true\n              } else {\n                return false\n              }\n            })\n            node.children.forEach((child) => { sub.removeChild(child) })\n            this.lf.deleteNode(node.id)\n          }\n        }\n      ]\n    })\n    // 自定义侧边栏 参考 http://logic-flow.org/guide/extension/component-dnd-panel.html\n    this.lf.extension.dndPanel.setPatternItems([\n      {\n        label: '选区',\n        icon: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAAH6ji2bAAAABGdBTUEAALGPC/xhBQAAAOVJREFUOBGtVMENwzAIjKP++2026ETdpv10iy7WFbqFyyW6GBywLCv5gI+Dw2Bluj1znuSjhb99Gkn6QILDY2imo60p8nsnc9bEo3+QJ+AKHfMdZHnl78wyTnyHZD53Zzx73MRSgYvnqgCUHj6gwdck7Zsp1VOrz0Uz8NbKunzAW+Gu4fYW28bUYutYlzSa7B84Fh7d1kjLwhcSdYAYrdkMQVpsBr5XgDGuXwQfQr0y9zwLda+DUYXLaGKdd2ZTtvbolaO87pdo24hP7ov16N0zArH1ur3iwJpXxm+v7oAJNR4JEP8DoAuSFEkYH7cAAAAASUVORK5CYII=',\n        callback: () => {\n          this.lf.extension.selectionSelect.openSelectionSelect()\n          this.lf.once('selection:selected', () => {\n            this.lf.extension.selectionSelect.closeSelectionSelect()\n          })\n        }\n      },\n      {\n        label: '分组',\n        icon: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAAH6ji2bAAAABGdBTUEAALGPC/xhBQAAA1BJREFUOBFtVE1IVUEYPXOf+tq40Y3vPcmFIdSjIorWoRG0ERWUgnb5FwVhYQSl72oUoZAboxKNFtWiwKRN0M+jpfSzqJAQclHo001tKkjl3emc8V69igP3znzfnO/M9zcDcKT67azmjYWTwl9Vn7Vumeqzj1DVb6cleQY4oAVnIOPb+mKAGxQmKI5CWNJ2aLPatxWa3aB9K7/fB+/Z0jUF6TmMlFLQqrkECWQzOZxYGjTlOl8eeKaIY5yHnFn486xBustDjWT6dG7pmjHOJd+33t0iitTPkK6tEvjxq4h2MozQ6WFSX/LkDUGfFwfhEZj1Auz/U4pyAi5Sznd7uKzznXeVHlI/Aywmk6j7fsUsEuCGADrWARXXwjxWQsUbIupDHJI7kF5dRktg0eN81IbiZXiTESic50iwS+t1oJgL83jAiBupLDCQqwziaWSoAFSeIR3P5Xv5az00wyIn35QRYTwdSYbz8pH8fxUUAtxnFvYmEmgI0wYXUXcCCSpeEVpXlsRhBnCEATxWylL9+EKCAYhe1NGstUa6356kS9NVvt3DU2fd+Wtbm/+lSbylJqsqkSm9CRhvoJVlvKPvF1RKY/FcPn5j4UfIMLn8D4UYb54BNsilTDXKnF4CfTobA0FpoW/LSp306wkXM+XaOJhZaFkcNM82ASNAWMrhrUbRfmyeI1FvRBTpN06WKxa9BK0o2E4Pd3zfBBEwPsv9sQBnmLVbLEIZ/Xe9LYwJu/Er17W6HYVBc7vmuk0xUQ+pqxdom5Fnp55SiytXLPYoMXNM4u4SNSCFWnrVIzKG3EGyMXo6n/BQOe+bX3FClY4PwydVhthOZ9NnS+ntiLh0fxtlUJHAuGaFoVmttpVMeum0p3WEXbcll94l1wM/gZ0Ccczop77VvN2I7TlsZCsuXf1WHvWEhjO8DPtyOVg2/mvK9QqboEth+7pD6NUQC1HN/TwvydGBARi9MZSzLE4b8Ru3XhX2PBxf8E1er2A6516o0w4sIA+lwURhAON82Kwe2iDAC1Watq4XHaGQ7skLcFOtI5lDxuM2gZe6WFIotPAhbaeYlU4to5cuarF1QrcZ/lwrLaCJl66JBocYZnrNlvm2+MBCTmUymPrYZVbjdlr/BxlMjmNmNI3SAAAAAElFTkSuQmCC',\n        callback: this.createSub\n      }\n    ])\n    this.lf.render({})\n    this.$_LfEvent()\n  }\n}\n\n/**\n * 按钮组自定义，设置是否提供该功能的按钮\n */\nconst controlConfig = {\n  // 放大\n  zoomIn: true,  // option value: true | false\n\n  // 缩小\n  zoomOut: true,  // option value: true | false\n\n  // 大小适应\n  zoomReset: true,  // option value: true | false\n\n  // 定位还原\n  translateRest: true,  // option value: true | false\n\n  // 还原(大小&定位)\n  reset: true,  // option value: true | false\n\n  // 撤销\n  undo: true,  // option value: true | false\n\n  // 重做\n  redo: true,  // option value: true | false\n\n  // 清空\n  clear: true,  // option value: true | false\n\n  // 重绘\n  reDraw: true,  // option value: true | false\n\n  // 导出流图\n  exportData: true,  // option value: true | false\n\n  // 载入流图\n  importData: true,  // option value: true | false\n\n  // 载入FMECA\n  importFMECA: true,  // option value: true | false\n\n  // 流图评价 ※需要与后台交互\n  check: true,  // option value: true | false\n\n  // 测点优化\n  optimizeCkpt: true,\n\n  // 故障分析 ※需要与后台交互\n  analyse: true  // option value: true | false\n}\n\nexport { menu, controlConfig }\n\n\n// WEBPACK FOOTER //\n// ./src/components/logicflowConfig/tools/menu.js","<template>\n  <div>\n     <el-button-group>\n      <!-- <el-button type=\"plain\" size=\"small\" @click=\"$_test\">测试用</el-button> -->\n      <el-button\n        v-if=\"controlConfig.zoomIn\"\n        type=\"plain\" size=\"small\" @click=\"$_zoomIn\">放大</el-button>\n      <el-button\n        v-if=\"controlConfig.zoomOut\"\n        type=\"plain\" size=\"small\" @click=\"$_zoomOut\">缩小</el-button>\n      <el-button\n        v-if=\"controlConfig.zoomReset\"\n        type=\"plain\" size=\"small\" @click=\"$_zoomReset\">大小适应</el-button>\n      <el-button\n        v-if=\"controlConfig.translateRest\"\n        type=\"plain\" size=\"small\" @click=\"$_translateRest\">定位还原</el-button>\n      <el-button\n        v-if=\"controlConfig.reset\"\n        type=\"plain\" size=\"small\" @click=\"$_reset\">还原(大小&定位)</el-button>\n      <el-button\n        v-if=\"controlConfig.undo\"\n        type=\"plain\" size=\"small\" @click=\"$_undo\" :disabled=\"undoDisable\">撤销(ctrl+z)</el-button>\n      <el-button\n        v-if=\"controlConfig.redo\"\n        type=\"plain\" size=\"small\" @click=\"$_redo\" :disabled=\"redoDisable\">重做(ctrl+y)</el-button>\n      <el-button\n        v-if=\"controlConfig.clear\"\n        type=\"plain\" size=\"small\" @click=\"$_clear\">清空</el-button>\n      <el-button\n        v-if=\"controlConfig.reDraw\"\n        type=\"plain\" size=\"small\" @click=\"$_reDraw\">重绘</el-button>\n      <el-button\n        v-if=\"controlConfig.exportData\"\n        type=\"plain\" size=\"small\" @click=\"$_exportData\">导出流图</el-button>\n    </el-button-group>\n\n    <el-upload\n      v-if=\"controlConfig.importData\"\n      style=\"display:inline-block; margin-left: -5px;\"\n      action=\"\"\n      :auto-upload=\"false\"\n      accept=\".json\"\n      :multiple=\"false\"\n      :show-file-list=\"false\"\n      :on-change=\"$_importData\">\n      <el-button type=\"plain\" size=\"small\">载入流图</el-button>\n    </el-upload>\n\n    <el-upload\n      v-if=\"controlConfig.importFMECA\"\n      style=\"display:inline-block; margin-left: -5px;\"\n      action=\"\"\n      :auto-upload=\"false\"\n      accept=\"application/vnd.ms-excel\"\n      :multiple=\"false\"\n      :show-file-list=\"false\"\n      :on-change=\"$_importFMECA\">\n      <el-button type=\"plain\" size=\"small\">载入FMECA</el-button>\n    </el-upload>\n\n    <el-button\n        v-if=\"controlConfig.check\"\n        type=\"plain\" size=\"small\" @click=\"$_check\"\n        style=\"display:inline-block; margin-left: -5px;\">流图评价</el-button>\n\n    <el-button\n      v-if=\"controlConfig.optimizeCkpt\"\n      type=\"plain\" size=\"small\" @click=\"$_optimizeCkpt\"\n      style=\"display:inline-block; margin-left: -5px;\">测点优化</el-button>\n\n    <el-upload\n      v-if=\"controlConfig.analyse\"\n      style=\"display:inline-block; margin-left: -5px;\"\n      action=\"\"\n      :auto-upload=\"false\"\n      accept=\".csv\"\n      :multiple=\"false\"\n      :show-file-list=\"false\"\n      :on-change=\"$_analyse\">\n      <el-button type=\"plain\" size=\"small\">故障分析</el-button>\n    </el-upload>\n\n    <el-dialog width=\"60%\" :title=\"dialogTitle\" :visible.sync=\"Visible\" :modal=\"false\">\n      <el-descriptions title=\"性能指标\" :column=\"3\" border v-if=\"dialogType==='check'\">\n        <el-descriptions-item label=\"检出率\">\n          <span>{{ result.detect_isolat_radis[0] }}</span>\n        </el-descriptions-item>\n        <el-descriptions-item label=\"隔离率\">\n          <span>{{ result.detect_isolat_radis[1] }}</span>\n        </el-descriptions-item>\n        <el-descriptions-item label=\"冗余度\">\n          <span>{{ result.detect_isolat_radis[2] }}</span>\n        </el-descriptions-item>\n      </el-descriptions>\n      <el-table\n        :data=\"result.D_mat\"\n        size=\"mini\"\n        v-if=\"dialogType==='check'\"\n        border>\n        <el-table-column\n          v-for=\"k in result.col_names\"\n          :label=\"k ==='raw_name'? '' : k\"\n          :key=\"k\"\n          :prop=\"k\">\n          <template slot-scope=\"scope\">\n            <span v-if=\"scope.row[k]===1\" style=\"background-color: red; color: white;\">{{ scope.row[k] }}</span>\n            <span v-else>{{ scope.row[k] }}</span>\n          </template>\n        </el-table-column>\n      </el-table>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport { importStruct, exportStruct } from '../logicflowConfig/common/methods'\nimport { controlConfig } from '../logicflowConfig/tools/menu'\n\nexport default {\n  name: 'Control',\n  props: {\n    lf: Object || String\n  },\n  data () {\n    return {\n      controlConfig,\n      undoDisable: true,\n      redoDisable: true,\n      a: document.createElement('a'),\n      fileName: 'data',\n      jsonText: '',\n      reader: null,\n      Visible: false,\n      dialogType: 'check',\n      result: {\n        detect_isolat_radis: [1, 1, 1, 1],\n        col_names: []\n      },\n    }\n  },\n  computed: {\n    dialogTitle () {\n      if (this.dialogType === 'check') {\n        return '信号流图模型评价'\n      } else {\n        return '信号流图模型评价'\n      }\n    }\n  },\n  mounted () {\n    this.$props.lf.on('history:change', ({ data: { undoAble, redoAble } }) => {\n      this.$data.undoDisable = !undoAble\n      this.$data.redoDisable = !redoAble\n    })\n  },\n  methods: {\n    $_zoomIn () {\n      this.$props.lf.zoom(true)\n    },\n    $_zoomOut () {\n      this.$props.lf.zoom(false)\n    },\n    $_zoomReset () {\n      this.$props.lf.resetZoom()\n    },\n    $_translateRest () {\n      this.$props.lf.resetTranslate()\n    },\n    $_reset () {\n      this.$props.lf.resetZoom()\n      this.$props.lf.resetTranslate()\n    },\n    $_undo () {\n      this.$props.lf.undo()\n    },\n    $_redo () {\n      this.$props.lf.redo()\n    },\n    $_clear () {\n      this.$props.lf.clearData()\n    },\n    $_reDraw () {\n      let data = this.$props.lf.getGraphRawData()\n      data.nodes.forEach((node) => {\n        node.properties.showType = 'edit'\n      })\n      this.$props.lf.render(data)\n    },\n    $_exportData () {\n      let data = exportStruct(this.$props.lf.getGraphData())\n      this.$Modal.confirm({\n          render: (h) => {\n            return h('Input', {\n              props: {\n                value: this.fileName,\n                placeholder: '请输入文件名',\n                autofocus: true\n              },\n              on: {\n                input: (val) => {\n                  this.fileName = val\n                }\n              }\n            })\n          },\n          onOk: () => {\n            this.jsonText = JSON.stringify(data, null, 4)\n            this.a.download = this.fileName + '.json'\n            this.a.href = window.URL.createObjectURL(new Blob([this.jsonText], {type: 'text/json' }))\n            this.a.dispatchEvent(new MouseEvent('click'))\n          }\n        })\n    },\n    $_importData (file) {\n      return new Promise((resolve, reject) => {\n        // 检验是否支持 FileRender\n        if (typeof FileReader === 'undefined') {\n          reject('当前浏览器不支持FileReader')\n        }\n        // 执行读取json数据操作\n        this.reader = new FileReader()\n        this.reader.readAsText(file.raw)\n        this.reader.onerror = (error) => {\n          reject('读取流图文件解析失败', error)\n        }\n        this.reader.onload = () => {\n          if (this.reader.result) {\n            try {\n              resolve(JSON.parse(this.reader.result))\n            } catch (error) {\n              reject('读取流图文件解析失败', error)\n            }\n          } else {\n            reject('读取流图文件解析失败', error)\n          }\n        }\n      }).then((res) => {\n        let data = importStruct(res)\n        this.$props.lf.render(data)\n      })\n    },\n\n    $_importFMECA (file) {\n      let fd = new FormData()\n      fd.append('modelFile', file.raw)\n      this.$axios({\n        url: '/multi-info-edit/upload-fmeca/',\n        method: 'post',\n        data: fd\n      }).then((res) => {\n        console.log(res)\n        this.$props.lf.render(importStruct(res.data))\n        //this.Visible = true\n      })\n    },\n\n    $_optimizeCkpt () {\n      let data = this.$props.lf.getGraphData()\n      if (data.nodes.length === 0) {\n        this.$alert('流图为空')\n      } else {\n        let fd = new FormData()\n        fd.append('graphStruct', JSON.stringify(exportStruct(data)))\n        this.$axios({\n          url: '/multi-info-edit/optimize-graph/',\n          method: 'post',\n          data: fd\n        }).then((res) => {\n          console.log(res)\n          this.$props.lf.render(importStruct(res.data))\n          //this.Visible = true\n        })\n      }\n    },\n\n    $_check () {\n      let data = this.$props.lf.getGraphData()\n      if (data.nodes.length === 0) {\n        this.$alert('流图为空')\n      } else {\n        let fd = new FormData()\n        fd.append('graphStruct', JSON.stringify(exportStruct(data)))\n        this.$axios({\n          url: '/multi-info-edit/check-graph/',\n          method: 'post',\n          data: fd\n        }).then((res) => {\n          console.log(res)\n          this.dialogType = 'check'\n          this.result.detect_isolat_radis = res.detect_isolat_radis\n          this.result.col_names = ['raw_name', ...res.col_names]\n          let D_mat = []\n          res.raw_names.forEach((raw, index) => {\n            let map = { raw_name: raw }\n            res.D_mat[index].forEach((data, i) => {\n              map[res.col_names[i]] = data\n            })\n            D_mat.push(map)\n          })\n          this.result.D_mat = D_mat\n          this.$props.lf.render(importStruct(res.data, 'check'))\n          this.Visible = true\n        })\n      }\n    },\n    $_analyse (file) {\n      let fd = new FormData()\n      fd.append('graphStruct', JSON.stringify(exportStruct(this.$props.lf.getGraphData())))\n      fd.append('dataFile', file.raw)\n      this.$axios({\n        url: '/multi-info-analyse/analyse-data/',\n        method: 'post',\n        data: fd\n      }).then((res) => {\n        this.dialogType = 'analyse'\n        // this.Visible = true\n        this.$props.lf.render(importStruct(res.data, 'analyse'))\n      })\n    },\n    $_test () {\n\n    },\n  }\n}\n</script>\n\n<style scoped>\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/MSFGComponents/Control.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-button-group',[(_vm.controlConfig.zoomIn)?_c('el-button',{attrs:{\"type\":\"plain\",\"size\":\"small\"},on:{\"click\":_vm.$_zoomIn}},[_vm._v(\"放大\")]):_vm._e(),_vm._v(\" \"),(_vm.controlConfig.zoomOut)?_c('el-button',{attrs:{\"type\":\"plain\",\"size\":\"small\"},on:{\"click\":_vm.$_zoomOut}},[_vm._v(\"缩小\")]):_vm._e(),_vm._v(\" \"),(_vm.controlConfig.zoomReset)?_c('el-button',{attrs:{\"type\":\"plain\",\"size\":\"small\"},on:{\"click\":_vm.$_zoomReset}},[_vm._v(\"大小适应\")]):_vm._e(),_vm._v(\" \"),(_vm.controlConfig.translateRest)?_c('el-button',{attrs:{\"type\":\"plain\",\"size\":\"small\"},on:{\"click\":_vm.$_translateRest}},[_vm._v(\"定位还原\")]):_vm._e(),_vm._v(\" \"),(_vm.controlConfig.reset)?_c('el-button',{attrs:{\"type\":\"plain\",\"size\":\"small\"},on:{\"click\":_vm.$_reset}},[_vm._v(\"还原(大小&定位)\")]):_vm._e(),_vm._v(\" \"),(_vm.controlConfig.undo)?_c('el-button',{attrs:{\"type\":\"plain\",\"size\":\"small\",\"disabled\":_vm.undoDisable},on:{\"click\":_vm.$_undo}},[_vm._v(\"撤销(ctrl+z)\")]):_vm._e(),_vm._v(\" \"),(_vm.controlConfig.redo)?_c('el-button',{attrs:{\"type\":\"plain\",\"size\":\"small\",\"disabled\":_vm.redoDisable},on:{\"click\":_vm.$_redo}},[_vm._v(\"重做(ctrl+y)\")]):_vm._e(),_vm._v(\" \"),(_vm.controlConfig.clear)?_c('el-button',{attrs:{\"type\":\"plain\",\"size\":\"small\"},on:{\"click\":_vm.$_clear}},[_vm._v(\"清空\")]):_vm._e(),_vm._v(\" \"),(_vm.controlConfig.reDraw)?_c('el-button',{attrs:{\"type\":\"plain\",\"size\":\"small\"},on:{\"click\":_vm.$_reDraw}},[_vm._v(\"重绘\")]):_vm._e(),_vm._v(\" \"),(_vm.controlConfig.exportData)?_c('el-button',{attrs:{\"type\":\"plain\",\"size\":\"small\"},on:{\"click\":_vm.$_exportData}},[_vm._v(\"导出流图\")]):_vm._e()],1),_vm._v(\" \"),(_vm.controlConfig.importData)?_c('el-upload',{staticStyle:{\"display\":\"inline-block\",\"margin-left\":\"-5px\"},attrs:{\"action\":\"\",\"auto-upload\":false,\"accept\":\".json\",\"multiple\":false,\"show-file-list\":false,\"on-change\":_vm.$_importData}},[_c('el-button',{attrs:{\"type\":\"plain\",\"size\":\"small\"}},[_vm._v(\"载入流图\")])],1):_vm._e(),_vm._v(\" \"),(_vm.controlConfig.importFMECA)?_c('el-upload',{staticStyle:{\"display\":\"inline-block\",\"margin-left\":\"-5px\"},attrs:{\"action\":\"\",\"auto-upload\":false,\"accept\":\"application/vnd.ms-excel\",\"multiple\":false,\"show-file-list\":false,\"on-change\":_vm.$_importFMECA}},[_c('el-button',{attrs:{\"type\":\"plain\",\"size\":\"small\"}},[_vm._v(\"载入FMECA\")])],1):_vm._e(),_vm._v(\" \"),(_vm.controlConfig.check)?_c('el-button',{staticStyle:{\"display\":\"inline-block\",\"margin-left\":\"-5px\"},attrs:{\"type\":\"plain\",\"size\":\"small\"},on:{\"click\":_vm.$_check}},[_vm._v(\"流图评价\")]):_vm._e(),_vm._v(\" \"),(_vm.controlConfig.optimizeCkpt)?_c('el-button',{staticStyle:{\"display\":\"inline-block\",\"margin-left\":\"-5px\"},attrs:{\"type\":\"plain\",\"size\":\"small\"},on:{\"click\":_vm.$_optimizeCkpt}},[_vm._v(\"测点优化\")]):_vm._e(),_vm._v(\" \"),(_vm.controlConfig.analyse)?_c('el-upload',{staticStyle:{\"display\":\"inline-block\",\"margin-left\":\"-5px\"},attrs:{\"action\":\"\",\"auto-upload\":false,\"accept\":\".csv\",\"multiple\":false,\"show-file-list\":false,\"on-change\":_vm.$_analyse}},[_c('el-button',{attrs:{\"type\":\"plain\",\"size\":\"small\"}},[_vm._v(\"故障分析\")])],1):_vm._e(),_vm._v(\" \"),_c('el-dialog',{attrs:{\"width\":\"60%\",\"title\":_vm.dialogTitle,\"visible\":_vm.Visible,\"modal\":false},on:{\"update:visible\":function($event){_vm.Visible=$event}}},[(_vm.dialogType==='check')?_c('el-descriptions',{attrs:{\"title\":\"性能指标\",\"column\":3,\"border\":\"\"}},[_c('el-descriptions-item',{attrs:{\"label\":\"检出率\"}},[_c('span',[_vm._v(_vm._s(_vm.result.detect_isolat_radis[0]))])]),_vm._v(\" \"),_c('el-descriptions-item',{attrs:{\"label\":\"隔离率\"}},[_c('span',[_vm._v(_vm._s(_vm.result.detect_isolat_radis[1]))])]),_vm._v(\" \"),_c('el-descriptions-item',{attrs:{\"label\":\"冗余度\"}},[_c('span',[_vm._v(_vm._s(_vm.result.detect_isolat_radis[2]))])])],1):_vm._e(),_vm._v(\" \"),(_vm.dialogType==='check')?_c('el-table',{attrs:{\"data\":_vm.result.D_mat,\"size\":\"mini\",\"border\":\"\"}},_vm._l((_vm.result.col_names),function(k){return _c('el-table-column',{key:k,attrs:{\"label\":k ==='raw_name'? '' : k,\"prop\":k},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row[k]===1)?_c('span',{staticStyle:{\"background-color\":\"red\",\"color\":\"white\"}},[_vm._v(_vm._s(scope.row[k]))]):_c('span',[_vm._v(_vm._s(scope.row[k]))])]}}],null,true)})}),1):_vm._e()],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-8d395bc8\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/MSFGComponents/Control.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-8d395bc8\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Control.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Control.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Control.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-8d395bc8\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Control.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-8d395bc8\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/MSFGComponents/Control.vue\n// module id = null\n// module chunks = ","<template>\n  <el-dialog\n    title=\"编辑节点属性\"\n    width=\"60%\"\n    :visible.sync=\"dialogVisible\"\n    :before-close=\"closeDialog\"\n    @open=\"openDialog\">\n\n    <el-form\n      :model=\"form\"\n      :rules=\"rules\"\n      ref=\"form\">\n      <!-- 共通 -->\n      <el-form-item label=\"ID\" prop=\"id\" :label-width=\"'120px'\">\n        <el-input v-model=\"form.id\" :disabled=\"true\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"类型\" prop=\"type\" :label-width=\"'120px'\">\n        <el-input v-model=\"form.type\" :disabled=\"true\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"名称\" prop=\"text.value\" :label-width=\"'120px'\">\n        <el-input v-model=\"form.text.value\"></el-input>\n      </el-form-item>\n      <!-- fault-node -->\n      <el-form-item\n        v-if=\"form.type === 'fault-node'\"\n        label=\"故障等级\"\n        prop=\"properties.flevel\"\n        :label-width=\"'120px'\"\n        style=\"text-align: left;\">\n        <el-select\n          v-model=\"form.properties.flevel\"\n          placeholder=\"请选择故障等级\"\n          clearable>\n          <el-option\n            v-for=\"level in faultLevelList\"\n            :key=\"level.value\"\n            :label=\"level.text\"\n            :value=\"level.value\"\n          ></el-option>\n        </el-select>\n      </el-form-item>\n      <!-- switch-node -->\n      <el-form-item\n        v-if=\"form.type === 'switch-node'\"\n        label=\"常闭/常开\"\n        prop=\"properties.normalState\"\n        :label-width=\"'120px'\"\n        style=\"text-align: left;\">\n        <el-switch\n          v-model=\"form.properties.normalState\"\n          active-color=\"#13ce66\"\n          inactive-color=\"#ff4949\">\n        </el-switch>\n      </el-form-item>\n      <!-- algorithm-node -->\n      <el-form-item\n        v-if=\"form.type === 'algorithm-node'\"\n        label=\"算法\"\n        prop=\"properties.algorithm\"\n        :label-width=\"'120px'\"\n        style=\"text-align: left;\">\n        <el-select\n          v-model=\"form.properties.algorithm\"\n          placeholder=\"请选择算法\"\n          clearable>\n          <el-option\n            v-for=\"algorithm in algorithmList\"\n            :key=\"algorithm.value\"\n            :label=\"algorithm.text\"\n            :value=\"algorithm.value\"\n          ></el-option>\n        </el-select>\n      </el-form-item>\n    </el-form>\n\n    <span slot=\"footer\" class=\"dialog-footer\">\n      <el-button @click=\"closeDialog\">取 消</el-button>\n      <el-button type=\"primary\" @click=\"formDataUpdate\">确 定</el-button>\n    </span>\n  </el-dialog>\n</template>\n\n<script>\nexport default {\n  name: 'EditDialog',\n  props: {\n    dialogVisible: {\n      type: Boolean\n    },\n    formData: {\n      type: Object,\n      required: true\n    },\n  },\n  data () {\n    return {\n      form: {\n        text: {\n          value: ''\n        },\n        properties: {\n          normalState: true,\n          flevel: 0\n        }\n      },\n      // 验证规则\n      rules: {\n        'text.value': [{ required: true, message: '请输入节点名称', trigger: 'blur' }],\n        'properties.flevel': [{ required: true, message: '请选择故障等级', trigger: 'change' }],\n        'properties.algorithm': [{ required: true, message: '请选择算法', trigger: 'change' }],\n      },\n      faultLevelList: [\n        {\n          value: 0,\n          text: '无故障'\n        },\n        {\n          value: 1,\n          text: '一级故障'\n        },\n        {\n          value: 2,\n          text: '二级故障'\n        },\n        {\n          value: 3,\n          text: '三级故障'\n        },\n      ],\n      algorithmList: [\n        {\n          value: 0,\n          text: '无算法'\n        },\n        {\n          value: 'lof',\n          text: '离群因子算法'\n        },\n        {\n          value: 'dsPot',\n          text: '漂移峰值阈值算法'\n        },\n      ]\n    }\n  },\n  computed: {\n\n  },\n  methods: {\n    formDataUpdate () {\n      this.$refs['form'].validate((valid, errs) => {\n        if (valid) {\n          this.$emit('data-update', this.form)\n          this.closeDialog()\n        } else {\n\n        }\n      })\n    },\n    closeDialog () {\n      this.$emit('update:dialogVisible', false)\n    },\n    openDialog () {\n      this.form = {...this.formData}\n    },\n  },\n  watch: {\n\n  }\n}\n</script>\n\n\n// WEBPACK FOOTER //\n// src/components/MSFGComponents/EditDialog.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{attrs:{\"title\":\"编辑节点属性\",\"width\":\"60%\",\"visible\":_vm.dialogVisible,\"before-close\":_vm.closeDialog},on:{\"update:visible\":function($event){_vm.dialogVisible=$event},\"open\":_vm.openDialog}},[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form,\"rules\":_vm.rules}},[_c('el-form-item',{attrs:{\"label\":\"ID\",\"prop\":\"id\",\"label-width\":'120px'}},[_c('el-input',{attrs:{\"disabled\":true},model:{value:(_vm.form.id),callback:function ($$v) {_vm.$set(_vm.form, \"id\", $$v)},expression:\"form.id\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"类型\",\"prop\":\"type\",\"label-width\":'120px'}},[_c('el-input',{attrs:{\"disabled\":true},model:{value:(_vm.form.type),callback:function ($$v) {_vm.$set(_vm.form, \"type\", $$v)},expression:\"form.type\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"名称\",\"prop\":\"text.value\",\"label-width\":'120px'}},[_c('el-input',{model:{value:(_vm.form.text.value),callback:function ($$v) {_vm.$set(_vm.form.text, \"value\", $$v)},expression:\"form.text.value\"}})],1),_vm._v(\" \"),(_vm.form.type === 'fault-node')?_c('el-form-item',{staticStyle:{\"text-align\":\"left\"},attrs:{\"label\":\"故障等级\",\"prop\":\"properties.flevel\",\"label-width\":'120px'}},[_c('el-select',{attrs:{\"placeholder\":\"请选择故障等级\",\"clearable\":\"\"},model:{value:(_vm.form.properties.flevel),callback:function ($$v) {_vm.$set(_vm.form.properties, \"flevel\", $$v)},expression:\"form.properties.flevel\"}},_vm._l((_vm.faultLevelList),function(level){return _c('el-option',{key:level.value,attrs:{\"label\":level.text,\"value\":level.value}})}),1)],1):_vm._e(),_vm._v(\" \"),(_vm.form.type === 'switch-node')?_c('el-form-item',{staticStyle:{\"text-align\":\"left\"},attrs:{\"label\":\"常闭/常开\",\"prop\":\"properties.normalState\",\"label-width\":'120px'}},[_c('el-switch',{attrs:{\"active-color\":\"#13ce66\",\"inactive-color\":\"#ff4949\"},model:{value:(_vm.form.properties.normalState),callback:function ($$v) {_vm.$set(_vm.form.properties, \"normalState\", $$v)},expression:\"form.properties.normalState\"}})],1):_vm._e(),_vm._v(\" \"),(_vm.form.type === 'algorithm-node')?_c('el-form-item',{staticStyle:{\"text-align\":\"left\"},attrs:{\"label\":\"算法\",\"prop\":\"properties.algorithm\",\"label-width\":'120px'}},[_c('el-select',{attrs:{\"placeholder\":\"请选择算法\",\"clearable\":\"\"},model:{value:(_vm.form.properties.algorithm),callback:function ($$v) {_vm.$set(_vm.form.properties, \"algorithm\", $$v)},expression:\"form.properties.algorithm\"}},_vm._l((_vm.algorithmList),function(algorithm){return _c('el-option',{key:algorithm.value,attrs:{\"label\":algorithm.text,\"value\":algorithm.value}})}),1)],1):_vm._e()],1),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.closeDialog}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.formDataUpdate}},[_vm._v(\"确 定\")])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-00cd9106\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/MSFGComponents/EditDialog.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./EditDialog.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./EditDialog.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-00cd9106\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./EditDialog.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/MSFGComponents/EditDialog.vue\n// module id = null\n// module chunks = ","/**\n * 页面编辑状态选项 参考 http://logic-flow.org/api/editConfigModelApi.html\n */\nconst editConfig = {\n  // 是否为静默模式\n  isSilentMode: false, // option value: true | false\n\n  // 禁止缩放画布\n  stopZoomGraph: false, // option value: true | false\n\n  // 禁止鼠标滚动移动画布\n  stopScrollGraph: false, // option value: true | false\n\n  // 禁止拖动画布\n  stopMoveGraph: false, // option value: true | false\n\n  // 允许调整边\n  adjustEdge: true, // option value: true | false\n\n  // 只对折线生效，只允许调整边的中间线段，不允许调整与起点终点相连的线段\n  adjustEdgeMiddle: true, // option value: true | false\n\n  // 允许调整边起点/终点\n  adjustEdgeStartAndEnd: false, // option value: true | false\n\n  // 允许拖动节点\n  adjustNodePosition: true, // option value: true | false\n\n  // 隐藏节点所有锚点\n  hideAnchors: false, // option value: true | false\n\n  // 允许节点文本可以编辑\n  nodeTextEdit: false, // option value: true | false\n\n  // 允许边文本可以编辑\n  edgeTextEdit: false, // option value: true | false\n\n  // 允许节点文本可以拖拽\n  nodeTextDraggable: false, // option value: true | false\n\n  // 允许边文本可以拖拽\n  edgeTextDraggable: false, // option value: true | false\n\n  // 允许按照 meta 键多选元素\n  metaKeyMultipleSelected: false // option value: true | false\n}\n\n/**\n * 自定义键盘快捷键 参考 http://logic-flow.org/guide/basic/keyboard.html\n */\nconst keyboardConfig = {\n  // 启用键盘快捷键\n  enabled: true, // option value: true | false\n}\n\n/**\n * 网格配置 参考 http://logic-flow.org/guide/basic/grid.html\n */\nconst gridConfig = {\n  // 启用网格\n  enabled: true, // option value: true | false\n\n  // 设置网格大小\n  size: 10, // option value: number\n\n  // 设置是否可见，若设置为 false 则不显示网格线但是仍然保留 size 栅格的效果\n  visible: true, // option value: true | false\n\n  // 设置网格类型，目前支持 dot 点状和 mesh 线状两种\n  type: 'mesh', // option value: 'dot' | 'mesh'\n  config: {\n    // 设置网格的颜色\n    color: '#eeeeee', // option value: HEX | RGB\n\n    // 设置网格线的宽度\n    thickness: 1, // option value: number\n  }\n}\n\n/**\n * 杂项配置\n */\nconst extraConfig = {\n  // 选区灵敏度\n  SelectionSense: {\n    // 是否要边的起点终点都在选区范围才算选中\n    isWholeEdge: true, // option value: true | false\n\n    // 是否要节点的全部点都在选区范围才算选中\n    isWholeNode: true, // option value: true | false\n  },\n\n  // 默认连线类型\n  defaultEdgeType: 'custom-edge' // option value: 'line' | 'polyline' | 'bezier' | 自定义连线类型\n}\n\nexport {\n  editConfig,\n  keyboardConfig,\n  gridConfig,\n  extraConfig\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/logicflowConfig/common/commonConfig.js","import { subsystemInit } from \"../init\"\n\nconst utils = {\n  createSub () {\n    const { nodes } = this.lf.getSelectElements()\n    if (nodes.length === 0) {\n      this.$alert('未选中任何节点，无法创建子系统！')\n    } else {\n      this.lf.clearSelectElements()\n      const { startPoint, endPoint } = this.lf.extension.selectionSelect\n      // startPoint 和 endPoint 是 dom 坐标，需要转换成 canvas 坐标绘制\n      const { transformModel } = this.lf.graphModel\n      const [x1, y1] = transformModel.HtmlPointToCanvasPoint([\n        startPoint.x,\n        startPoint.y\n      ])\n      const [x2, y2] = transformModel.HtmlPointToCanvasPoint([\n        endPoint.x,\n        endPoint.y\n      ])\n      const width = x2 - x1\n      const height = y2 - y1\n      let node = {...subsystemInit}\n      node.x = x1 + width / 2\n      node.y = y1 + height / 2\n      node.properties.nodeSize = {\n        width: width,\n        height: height\n      }\n      node.children = nodes.map((item) => item.id)\n      this.lf.addNode(node)\n      this.lf.render(this.$data.lf.getGraphRawData())\n    }\n  },\n  foldAllChild (child) {\n    child.forEach((nodeID) => {\n      let node = this.lf.graphModel.getNodeModelById(nodeID)\n      if (node.type === 'sub-system') {\n        if (node.isFolded === false) {\n          this.foldAllChild(node.children)\n          node.foldGroup(true)\n        }\n        if (node.isFolded === true) {\n          node.foldGroup(false)\n          this.foldAllChild(node.children)\n          node.foldGroup(true)\n        }\n      }\n    })\n  },\n  unfoldAllChild (child) {\n    child.forEach((nodeID) => {\n      let node = this.lf.graphModel.getNodeModelById(nodeID)\n      if (node.type === 'sub-system') {\n        node.foldGroup(false)\n        this.unfoldAllChild(node.children)\n      }\n    })\n  },\n}\n\nexport { utils }\n\n\n// WEBPACK FOOTER //\n// ./src/components/logicflowConfig/tools/util.js","/**\n * 添加事件监听参考 http://logic-flow.org/guide/basic/event.html\n * LogicFlow 提供的事件参考 http://logic-flow.org/api/eventCenterApi.html\n * 也可以监听基于 LogicFlow eventCenter 抛出的自定义事件，如何抛出自定义事件参考 http://logic-flow.org/api/graphModelApi.html#eventcenter\n */\nconst listeners = {\n  $_LfEvent () {\n    // 单击节点 测试用\n    this.lf.on('node:click', ({ data }) => {\n      console.log(data) // for test\n    })\n    // 双击节点\n    this.lf.on('node:dbclick', ({ data }) => {\n      this.formData = data\n      this.dialogVisible = true\n    })\n    // ※节点信息编辑\n    this.lf.on('node:edit', (data) => {\n      this.formData = data\n      this.dialogVisible = true\n    })\n    // 鼠标进入节点\n    this.lf.on('node:mouseenter', ({ data }) => {\n      if (data.properties.showType === 'analyse' && data.type !== 'sub-system') {\n        const { transformModel } = this.lf.graphModel\n        const [x, y] = transformModel.CanvasPointToHtmlPoint([\n          data.x,\n          data.y\n        ])\n        let left = x + 150 + data.properties.width / 2\n        let top = y - 37\n        let element = document.createElement('div')\n        element.className = \"popper\"\n        element.style.left = `${left}px`\n        element.style.top = `${top}px`\n        // let para = document.createElement('p')\n        // para.appendChild(document.createTextNode(`名称: ${data.text.value}`))\n        // element.appendChild(para)\n        // para = document.createElement('p')\n        // para.appendChild(document.createTextNode(`故障分数: ${data.properties.state * 100}`))\n        // element.appendChild(para)\n        // para = document.createElement('p')\n        // para.appendChild(document.createTextNode(`模糊分数: ${data.properties.fuzzy_state * 100}`))\n        // element.appendChild(para)\n        element.innerHTML = `\n          <p>名称: ${data.text.value}</p>\n          <p>故障分数: ${data.properties.state * 100}</p>\n          <p>模糊分数: ${data.properties.fuzzy_state * 100}</p>\n        `\n        let view = document.querySelector('.logic-flow-view')\n        view.appendChild(element)\n      }\n    })\n    // 鼠标离开节点\n    this.lf.on('node:mouseleave', (node) => {\n      let element = document.querySelector('.popper')\n      if (element) { element.remove() }\n    })\n    // 连线删除\n    this.lf.on('edge:delete', ({data}) => {\n      let node = this.lf.graphModel.getNodeModelById(data.targetNodeId)\n      if (node.type === 'switch-node' && node.properties.control === data.sourceNodeId) {\n        node.properties.control = null\n      }\n    })\n    // 锚点连线拖动连线成功时触发，主要用于添加额外的连线验证\n    this.lf.on('anchor:drop', (data) => {\n      let model = data.edgeModel\n      let edges = this.lf.getEdgeModels({\n        sourceNodeId: model.sourceNodeId,\n        targetNodeId: model.targetNodeId\n      })\n      if (edges.length > 1) {\n        this.$alert('重复连线')\n        this.lf.deleteEdge(model.id)\n      } else {\n        // 开关的控制节点接入\n        if (model.targetNodeId + '_top' === model.targetAnchorId || model.targetNodeId + '_bottom' === model.targetAnchorId) {\n          let node = this.lf.graphModel.getNodeModelById(model.targetNodeId)\n          if (node.properties.control === null) {\n            node.properties.control = model.sourceNodeId\n          } else {\n            this.$alert('该开关已有控制节点')\n            this.lf.deleteEdge(model.id)\n          }\n        }\n      }\n    })\n    // ※子系统折叠 & 展开\n    this.lf.on('group:fold', (data) => {\n      if (data.isFolded === true) {\n        data.foldGroup(false)\n        this.foldAllChild(data.children)\n        data.foldGroup(true)\n      } else {\n        this.unfoldAllChild(data.children)\n      }\n    })\n  }\n}\n\nexport { listeners }\n\n\n// WEBPACK FOOTER //\n// ./src/components/logicflowConfig/tools/listeners.js","// import lf & plugins\nimport LogicFlow from '@logicflow/core'\nimport '@logicflow/core/dist/style/index.css'\nimport { Menu, Group, DndPanel, Snapshot, SelectionSelect } from '@logicflow/extension'\n\n// import commonConfig\nimport { editConfig, keyboardConfig, gridConfig, extraConfig } from './common/commonConfig.js'\n\n// import nodes\nconst nodeModulesFiles = require.context('./node', true, /.js$/)\nlet registerNodeList = []\nnodeModulesFiles.keys().forEach((modulePath) => {\n  registerNodeList.push(nodeModulesFiles(modulePath))\n})\n\n// import group\nconst groupModulesFiles = require.context('./group', true, /.js$/)\nlet registerGroupList = []\ngroupModulesFiles.keys().forEach((modulePath) => {\n  registerGroupList.push(groupModulesFiles(modulePath))\n})\n\n// import edge\nconst edgeModulesFiles = require.context('./edge', true, /.js$/)\nlet registerEdgeList = []\nedgeModulesFiles.keys().forEach((modulePath) => {\n  registerEdgeList.push(edgeModulesFiles(modulePath))\n})\n\nimport { utils } from './tools/util.js'\nimport { listeners } from './tools/listeners.js'\nimport { menu } from './tools/menu.js'\n\nconst methods = {\n  // 初始化 LogicFlow\n  $_initLf () {\n    // 画布配置\n    const lf = new LogicFlow({\n      container: this.$refs.container,\n      // 页面编辑状态选项\n      ...editConfig,\n      // 自定义键盘快捷键\n      keyboard: keyboardConfig,\n      // 网格\n      grid: gridConfig.enabled ? gridConfig : false,\n      // 插件\n      plugins: [\n        Menu,\n        Group,\n        Snapshot,\n        DndPanel,\n        SelectionSelect\n      ]\n    })\n    this.lf = lf\n    this.lf.extension.selectionSelect.setSelectionSense(extraConfig.SelectionSense.isWholeEdge, extraConfig.SelectionSense.isWholeNode)\n    this.$_registerNode()\n  },\n  // 注册节点\n  $_registerNode () {\n    // node register\n    registerNodeList.forEach((node) => {\n      this.lf.register(node.default)\n    })\n    // group register\n    registerGroupList.forEach((group) => {\n      this.lf.register(group.default)\n    })\n    // edge register\n    registerEdgeList.forEach((edge) => {\n      this.lf.register(edge.default)\n    })\n\n    this.lf.setDefaultEdgeType(extraConfig.defaultEdgeType)\n    this.$_render()\n  },\n  ...menu,\n  ...listeners,\n  ...utils\n}\n\nexport { methods }\n\n\n// WEBPACK FOOTER //\n// ./src/components/logicflowConfig/index.js","<template>\n  <div class=\"logic-flow-view\">\n    <Control\n      class=\"demo-control\"\n      v-if=\"lf\"\n      :lf=\"lf\"\n    />\n    <NodePanel v-if=\"lf\" :lf=\"lf\" :nodeList=\"nodeList\" />\n    <div ref=\"container\" class=\"LF-view\"></div>\n    <EditDialog\n      :dialog-visible.sync=\"dialogVisible\"\n      :form-data=\"formData\"\n      @data-update=\"$_dataUpdate\" />\n  </div>\n</template>\n\n<script>\nimport { nodeList } from './logicflowConfig/init.js'\nimport NodePanel from './MSFGComponents/NodePanel'\nimport Control from './MSFGComponents/Control'\nimport EditDialog from './MSFGComponents/EditDialog.vue'\nimport '@logicflow/extension/lib/style/index.css'\nimport './logicflowConfig/tools/style.css'\nimport { methods } from './logicflowConfig'\n\nexport default {\n  name: 'MSFG',\n  components: {\n    NodePanel: NodePanel,\n    Control: Control,\n    EditDialog: EditDialog\n  },\n  data () {\n    return {\n      lf: null,\n      dialogVisible: false,\n      nodeList,\n      formData: {},\n    }\n  },\n  mounted () {\n    this.$_initLf()\n  },\n  methods: {\n    ...methods,\n    $_dataUpdate (_node) {\n      let node = this.lf.graphModel.getNodeModelById(_node.id)\n      node.updateText(_node.text.value)\n      node.setProperties({..._node.properties})\n    }\n  }\n}\n</script>\n\n<style scoped>\n.logic-flow-view {\n  height: 95%;\n  position: relative;\n}\n.demo-control {\n  position: absolute;\n  top: 0px;\n  right: 50px;\n  z-index: 2;\n}\n.LF-view {\n  position: absolute;\n  top: 0px;\n  left: 150px;\n  width: calc(100% - 200px);\n  height: 100%;\n  outline: none;\n}\n.node-panel {\n  position: absolute;\n  top: 0px;\n}\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/MSFG.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"logic-flow-view\"},[(_vm.lf)?_c('Control',{staticClass:\"demo-control\",attrs:{\"lf\":_vm.lf}}):_vm._e(),_vm._v(\" \"),(_vm.lf)?_c('NodePanel',{attrs:{\"lf\":_vm.lf,\"nodeList\":_vm.nodeList}}):_vm._e(),_vm._v(\" \"),_c('div',{ref:\"container\",staticClass:\"LF-view\"}),_vm._v(\" \"),_c('EditDialog',{attrs:{\"dialog-visible\":_vm.dialogVisible,\"form-data\":_vm.formData},on:{\"update:dialogVisible\":function($event){_vm.dialogVisible=$event},\"update:dialog-visible\":function($event){_vm.dialogVisible=$event},\"data-update\":_vm.$_dataUpdate}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-8cc6b34e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/MSFG.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-8cc6b34e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./MSFG.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./MSFG.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./MSFG.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-8cc6b34e\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./MSFG.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-8cc6b34e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/MSFG.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"main-box\">\n    <MSFG />\n  </div>\n</template>\n\n<script>\nimport MSFG from './MSFG.vue'\n\nexport default {\n  components: {\n    MSFG: MSFG\n  },\n  data () {\n    return {\n\n    }\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n.main-box{\n  width: 100%;\n  height: 100%\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/MultiProcess.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"main-box\"},[_c('MSFG')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5f8d7cd4\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/MultiProcess.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5f8d7cd4\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./MultiProcess.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./MultiProcess.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./MultiProcess.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5f8d7cd4\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./MultiProcess.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-5f8d7cd4\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/MultiProcess.vue\n// module id = null\n// module chunks = ","import Vue from 'vue'\nimport Router from 'vue-router'\nimport MultiProcess from '@/components/MultiProcess'\n\nVue.use(Router)\n\nexport default new Router({\n  routes: [\n    {\n      path: '/',\n      name: 'MultiProcess',\n      component: MultiProcess\n    }\n  ]\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","import axios from 'axios'\nimport { Notification } from 'element-ui'\n\n// 配置优先级： 全局配置 < 实例配置 < 请求的config参数\n// 全局axios默认值配置\naxios.defaults.baseURL = 'http://127.0.0.1:8000/'\naxios.defaults.timeout = 5000 // 设置请求延迟时间\naxios.defaults.headers.post['Content-Type'] = 'multipart/form-data'\naxios.defaults.headers.post['Access-Control-Allow-Origin'] = '*'\naxios.defaults.withCredentials = false // 允许跨域请求携带cookie做身份认证\n\n/* 添加拦截器 */\n// request interceptor\naxios.interceptors.request.use(\n  function (config) {\n    return config\n  }, function (error) {\n    // 对请求错误做些什么\n    return Promise.reject(error)\n  })\n\n// response interceptor\naxios.interceptors.response.use(\n  (response) => {\n    // 2xx 范围内的状态码都会触发该函数。\n    // 对响应数据做点什么\n    return response.data\n  }, (error) => {\n    // 超出 2xx 范围的状态码都会触发该函数。\n    // 对响应错误做点什么\n    // 请求超时\n    console.log(error)\n    if (error.message.includes('timeout')) {\n      Notification({\n        title: '发生错误',\n        message: '网络超时,请求超过200s未有相应，请检查网络配置',\n        type: 'error',\n        duration: 0\n      })\n      return Promise.reject(error)\n    }\n    Notification({\n      title: '发生错误',\n      message: error.response.data.msg,\n      type: 'error',\n      duration: 0\n    })\n    return Promise.reject(error.response)\n  })\n\nexport default axios\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/setaxios.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\nimport router from './router'\nimport ViewUI from 'view-design'\nimport 'view-design/dist/styles/iview.css'\nimport ElementUI from 'element-ui'\nimport 'element-ui/lib/theme-chalk/index.css'\nimport Axios from './utils/setaxios'\n\n// import axios from 'axios'\n// Vue.use(axios)\n\nVue.use(ElementUI)\nVue.use(ViewUI)\nVue.config.productionTip = false // 阻止vue在启动时生成生产提示\nVue.prototype.$axios = Axios // 使用方法为this.$axios\n\nnew Vue({\n  el: '#app',\n  router,\n  components: { App },\n  template: '<App/>'\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","import { h } from '@logicflow/core'\nimport BaseNode from './BaseNode'\n\nconst typeColor_open = '#96c24e'\nconst typeColor_close = '#E74C3C'\n\nclass SwitchNodeModel extends BaseNode.model {\n  initNodeData (data) {\n    super.initNodeData(data)\n  }\n  setAttributes () {\n    super.setAttributes()\n    if (this.properties.normalState) {\n      this.defaultFill = typeColor_open\n    } else {\n      this.defaultFill = typeColor_close\n    }\n    const circleOnlyAsTarget = {\n      message: \"只允许从右边的锚点连出\",\n      validate: (sourceNode, targetNode, sourceAnchor, targetAnchor) => {\n        return sourceAnchor.type === \"right\"\n      }\n    }\n    this.sourceRules.push(circleOnlyAsTarget)\n    this.targetRules.push({\n      message: \"只允许连接左边或上下两侧的锚点\",\n      validate: (sourceNode, targetNode, sourceAnchor, targetAnchor) => {\n        return targetAnchor.type === \"left\" || 'top' || 'bottom'\n      }\n    })\n  }\n  getDefaultAnchor () {\n    const { x, y, id, width, height } = this\n    const anchors = [\n      {\n        x: x + width / 2,\n        y: y,\n        id: `${id}_right`,\n        type: \"right\"\n      },\n      {\n        x: x - width / 2,\n        y: y,\n        id: `${id}_left`,\n        type: \"left\"\n      },\n      {\n        x: x,\n        y: y - height / 2,\n        id: `${id}_top`,\n        type: \"top\"\n      },\n      {\n        x: x,\n        y: y + height / 2,\n        id: `${id}_bottom`,\n        type: \"bottom\"\n      }\n    ]\n    return anchors\n  }\n}\n\n\nclass SwitchNodeView extends BaseNode.view {}\n\n\nexport default {\n  type: 'switch-node',\n  model: SwitchNodeModel,\n  view: SwitchNodeView\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/logicflowConfig/node/SwitchNode.js","var map = {\n\t\"./AlgorithmNode.js\": \"UwmJ\",\n\t\"./BaseNode.js\": \"qPqk\",\n\t\"./FaultNode.js\": \"q9Is\",\n\t\"./SwitchNode.js\": \"OnXr\",\n\t\"./TestNode.js\": \"TqSG\"\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"TEyu\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/logicflowConfig/node .js$\n// module id = TEyu\n// module chunks = 1","import { h } from '@logicflow/core'\nimport BaseNode from './BaseNode'\n\n\nclass TestNodeModel extends BaseNode.model {\n  initNodeData (data) {\n    super.initNodeData(data)\n  }\n  setAttributes () {\n    super.setAttributes()\n    this.targetRules.push({\n      message: \"只允许连接左边的锚点\",\n      validate: (sourceNode, targetNode, sourceAnchor, targetAnchor) => {\n        return targetAnchor.type === \"left\"\n      }\n    })\n  }\n  getDefaultAnchor () {\n    const { x, y, id, width, height } = this\n    const anchors = [\n      {\n        x: x - width / 2,\n        y: y,\n        id: `${id}_left`,\n        type: \"left\"\n      }\n    ]\n    return anchors\n  }\n}\n\n\nclass TestNodeView extends BaseNode.view {}\n\n\nexport default {\n  type: 'test-node',\n  model: TestNodeModel,\n  view: TestNodeView\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/logicflowConfig/node/TestNode.js","import { h } from '@logicflow/core'\nimport BaseNode from './BaseNode'\n\n\nclass AlgorithmNodeModel extends BaseNode.model {\n  initNodeData (data) {\n    super.initNodeData(data)\n  }\n  setAttributes () {\n    super.setAttributes()\n    const circleOnlyAsTarget = {\n      message: \"只允许从右边的锚点连出\",\n      validate: (sourceNode, targetNode, sourceAnchor, targetAnchor) => {\n        return sourceAnchor.type === \"right\"\n      }\n    }\n    this.sourceRules.push(circleOnlyAsTarget)\n    this.targetRules.push({\n      message: \"只允许连接左边的锚点\",\n      validate: (sourceNode, targetNode, sourceAnchor, targetAnchor) => {\n        return targetAnchor.type === \"left\"\n      }\n    })\n  }\n}\n\n\nclass AlgorithmNodeView extends BaseNode.view {}\n\n\nexport default {\n  type: 'algorithm-node',\n  model: AlgorithmNodeModel,\n  view: AlgorithmNodeView\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/logicflowConfig/node/AlgorithmNode.js","import { h } from '@logicflow/core'\nimport { GroupNode } from '@logicflow/extension'\nimport { getColorRGB_check_sub, getColorRGB_analyse_sub } from '../common/methods'\n\n\nclass SelectGroupModel extends GroupNode.model {\n  initNodeData (data) {\n    super.initNodeData(data)\n    this.resizable = true\n    this.foldable = true\n    this.foldedWidth = 175\n    this.foldedHeight = 40\n    const forbidConnect = {\n      message: \"不允许直接连接到子系统\",\n      validate: () => {\n        return false\n      }\n    }\n    this.targetRules.push(forbidConnect)\n    if (data.properties.isFold === true) {\n      setTimeout(() => {\n        this.foldGroup(true)\n      })\n    }\n  }\n  setAttributes () {\n    this.text.x = this.x + 10\n    if (this.isFolded) {\n      this.text.y = this.y\n    } else {\n      this.text.y = this.y - this.properties.nodeSize.height / 2 + 14\n    }\n  }\n  updateText (value) {\n    const textValue = value.replace(/\\n/gm, \"\")\n    super.updateText(textValue.slice(0, 10))\n  }\n  getNodeStyle () {\n    const style = super.getNodeStyle()\n    style.stroke = \"#0998FF\"\n    style.strokeWidth = 1\n    style.strokeDasharray = \"3 3\"\n    if (this.properties.showType === 'check') {\n      style.fill = getColorRGB_check_sub(this.properties.collision, this.properties.fuzzible, this.properties.detectable, \"rgba(239, 245, 255, 0.45)\")\n    } else if (this.properties.showType === 'analyse') {\n      style.fill = getColorRGB_analyse_sub(this.properties.state, this.properties.fuzzy_state)\n    } else {\n      style.fill = \"rgba(239, 245, 255, 0.45)\"\n    }\n    return style\n  }\n  getTextStyle () {\n    const style = super.getTextStyle()\n    style.fontSize = 14\n    style.color = \"#3C96FE\"\n    style.fontWeight = 600\n    style.lineHeight = 16\n    return style\n  }\n  foldGroup (isFolded) {\n    super.foldGroup(isFolded)\n    if (isFolded) {\n      this.text.x = this.x + 10\n      this.text.y = this.y\n    } else {\n      this.width = this.properties.nodeSize.width\n      this.height = this.properties.nodeSize.height\n      this.text.x = this.x + 10\n      this.text.y = this.y - this.height / 2 + 14\n    }\n  }\n  deleteGroup () {\n    this.graphModel.deleteNode(this.id)\n  }\n  getData () {\n    const data = super.getData()\n    if (this.isFolded) {\n      data.x = data.x + this.unfoldedWidth / 2 - this.width / 2\n      data.y = data.y + this.unfoldedHight / 2 - this.height / 2\n      data.properties.isFold = this.isFolded\n      data.width = this.unfoldedWidth\n      data.height = this.unfoldedHight\n    } else {\n      data.properties.isFold = this.isFolded\n      data.width = this.width\n      data.height = this.height\n    }\n    return data\n  }\n}\n\n\nclass SelectGroupView extends GroupNode.view {\n  getFoldIcon () {\n    const { model, graphModel } = this.props\n    const foldX = model.x - model.width / 2 + 5\n    const foldY = model.y - model.height / 2 + 5\n    if (!model.foldable) return null\n    // 展开的icon\n    const unFoldIcon = h(\n      \"svg\",\n      {\n        transform: \"translate(329.000000, 311.000000)\",\n        x: foldX,\n        y: foldY,\n        width: 20,\n        height: 20,\n        fill: \"#3C96FE\"\n      },\n      [\n        h(\"path\", {\n          \"pointer-events\": \"none\",\n          d:\n            \"M10.5097656,8.61914062 L16.8066406,2.32226563 C16.8554688,2.2734375 16.8203125,2.18945313 16.7519531,2.18945313 L13.6035156,2.18945313 C13.2636719,2.18945313 12.9746094,1.921875 12.9648438,1.58203125 C12.9550781,1.22851563 13.2382813,0.939453125 13.5898438,0.939453125 L18.4492188,0.939453125 C18.7949219,0.939453125 19.0742188,1.21875 19.0742188,1.56445313 L19.0742188,6.41015625 C19.0742188,6.75 18.8066406,7.0390625 18.4667969,7.04882813 C18.1132813,7.05859375 17.8242188,6.77539063 17.8242188,6.42382813 L17.8242188,3.25976563 C17.8242188,3.18945313 17.7402344,3.15625 17.6914063,3.20507813 L11.3925781,9.50195312 C11.1484375,9.74609375 10.7519531,9.74609375 10.5078125,9.50195312 C10.265625,9.2578125 10.265625,8.86328125 10.5097656,8.61914062 Z M0.921875,18.4375 L0.921875,13.5917969 C0.921875,13.2519531 1.18945312,12.9628906 1.52929688,12.953125 C1.8828125,12.9433594 2.171875,13.2265625 2.171875,13.578125 L2.171875,16.7402344 C2.171875,16.8105469 2.25585938,16.84375 2.3046875,16.7949219 L8.6015625,10.4980469 C8.72460938,10.375 8.8828125,10.3144531 9.04296875,10.3144531 C9.203125,10.3144531 9.36328125,10.375 9.484375,10.4980469 C9.72851562,10.7421875 9.72851562,11.1386719 9.484375,11.3828125 L3.18945312,17.6796875 C3.140625,17.7285156 3.17578125,17.8125 3.24414063,17.8125 L6.39257812,17.8125 C6.73242187,17.8125 7.02148438,18.0800781 7.03125,18.4199219 C7.04101562,18.7734375 6.7578125,19.0625 6.40625,19.0625 L1.546875,19.0625 C1.20117188,19.0625 0.921875,18.7832031 0.921875,18.4375 Z M1.25,6.875 L0,6.875 L0,0 L6.875,0 L6.875,1.25 L1.25,1.25 L1.25,6.875 Z M20,20 L13.125,20 L13.125,18.75 L18.75,18.75 L18.75,13.125 L20,13.125 L20,20 Z\"\n        })\n      ]\n    )\n    // 收起的icon\n    const foldIcon = h(\n      \"svg\",\n      {\n        transform: \"translate(330.000000, 495.000000)\",\n        x: foldX,\n        y: foldY,\n        width: 20,\n        height: 20,\n        fill: \"#3C96FE\"\n      },\n      [\n        h(\"path\", {\n          \"pointer-events\": \"none\",\n          d:\n            \"M18.890625,2.00390625 L12.59375,8.30273438 C12.5449219,8.3515625 12.5800781,8.43554688 12.6484375,8.43554688 L15.796875,8.43554688 C16.1367187,8.43554688 16.4257812,8.703125 16.4355469,9.04296875 C16.4453125,9.39648438 16.1621094,9.68554688 15.8105469,9.68554688 L10.9511719,9.68554688 C10.6054687,9.68554688 10.3261719,9.40625 10.3261719,9.06054688 L10.3261719,4.21484375 C10.3261719,3.875 10.59375,3.5859375 10.9335938,3.57617188 C11.2871094,3.56640625 11.5761719,3.84960938 11.5761719,4.20117188 L11.5761719,7.36328125 C11.5761719,7.43359375 11.6601562,7.46679688 11.7089844,7.41796875 L18.0078125,1.12109375 C18.2519531,0.876953125 18.6484375,0.876953125 18.8925781,1.12109375 C19.1347656,1.36523438 19.1347656,1.75976562 18.890625,2.00390625 L18.890625,2.00390625 Z M9.66992188,10.9394531 L9.66992188,15.7851562 C9.66992188,16.125 9.40234375,16.4140625 9.0625,16.4238281 C8.70898438,16.4335938 8.41992188,16.1503906 8.41992188,15.7988281 L8.41992188,12.6367188 C8.41992188,12.5664062 8.3359375,12.5332031 8.28710938,12.5820312 L1.98828125,18.8789062 C1.86523438,19.0019531 1.70703125,19.0625 1.546875,19.0625 C1.38671875,19.0625 1.2265625,19.0019531 1.10546875,18.8789062 C0.861328125,18.6347656 0.861328125,18.2382812 1.10546875,17.9941406 L7.40234375,11.6972656 C7.45117188,11.6484375 7.41601563,11.5644531 7.34765625,11.5644531 L4.19921875,11.5644531 C3.859375,11.5644531 3.5703125,11.296875 3.56054688,10.9570312 C3.55078125,10.6035156 3.83398438,10.3144531 4.18554688,10.3144531 L9.04492188,10.3144531 C9.390625,10.3144531 9.66992188,10.59375 9.66992188,10.9394531 Z M1.25,6.875 L0,6.875 L0,0 L6.875,0 L6.875,1.25 L1.25,1.25 L1.25,6.875 Z M20,20 L13.125,20 L13.125,18.75 L18.75,18.75 L18.75,13.125 L20,13.125 L20,20 Z\"\n        })\n      ]\n    )\n    return h('g', {}, [\n      h('rect', {\n        height: 20,\n        width: 20,\n        rx: 2,\n        ry: 2,\n        strokeWidth: 1,\n        fill: 'transparent',\n        stroke: 'transparent',\n        cursor: 'pointer',\n        x: model.x - model.width / 2 + 5,\n        y: model.y - model.height / 2 + 5,\n        onClick: () => {\n          model.foldGroup(!model.properties.isFolded)\n          graphModel.eventCenter.emit('group:fold', model)\n        }\n      }),\n      model.properties.isFolded ? unFoldIcon : foldIcon\n    ])\n  }\n\n  getDeleteIcon () {\n    const { model } = this.props\n    return h(\"g\", {}, [\n      h(\"rect\", {\n        height: 20,\n        width: 20,\n        rx: 2,\n        ry: 2,\n        strokeWidth: 1,\n        fill: \"transparent\",\n        stroke: \"transparent\",\n        cursor: \"pointer\",\n        x: model.x + model.width / 2 + 14,\n        y: model.y - model.height / 2 + 5,\n        onClick: () => {\n          model.deleteGroup()\n        }\n      }),\n      h(\n        \"svg\",\n        {\n          transform: \"translate(1.000000, 1.000000)\",\n          fill: \"#3C96FE\",\n          x: model.x + model.width / 2 + 14,\n          y: model.y - model.height / 2 + 5,\n          width: 20,\n          height: 20\n        },\n        [\n          h(\"path\", {\n            \"pointer-events\": \"none\",\n            d:\n              \"M15.3,1.4 L12.6,1.4 L12.6,0 L5.4,0 L5.4,1.4 L0,1.4 L0,2.8 L2,2.8 L2,17.3 C2,17.6865993 2.31340068,18 2.7,18 L15.3,18 C15.6865993,18 16,17.6865993 16,17.3 L16,2.8 L18,2.8 L18,1.4 L15.3,1.4 Z M14.6,16.6 L3.4,16.6 L3.4,2.8 L14.6,2.8 L14.6,16.6 Z\"\n          }),\n          h(\"path\", {\n            \"pointer-events\": \"none\",\n            d:\n              \"M6,5.4 L7.4,5.4 L7.4,14.4 L6,14.4 L6,5.4 Z M10.6,5.4 L12,5.4 L12,14.4 L10.6,14.4 L10.6,5.4 Z\"\n          })\n        ]\n      )\n    ])\n  }\n  getResizeShape () {\n    return h(\"g\", {}, [super.getResizeShape(), this.getDeleteIcon()])\n  }\n}\n\n\nexport default {\n  type: \"sub-system\",\n  model: SelectGroupModel,\n  view: SelectGroupView\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/logicflowConfig/group/SubSystem.js","import { PolylineEdge, PolylineEdgeModel } from '@logicflow/core'\n\n\nclass CustomEdgeModel extends PolylineEdgeModel {\n  customTextPosition = true\n  getTextStyle () {\n    const style = super.getTextStyle()\n    style.className = \"custom-text\"\n    return style\n  }\n  getTextPosition () {\n    const position = super.getTextPosition()\n    const currentPositionList = this.points.split(\" \")\n    const pointsList = []\n    currentPositionList &&\n      currentPositionList.forEach((item) => {\n        const [x, y] = item.split(\",\")\n        pointsList.push({ x: Number(x), y: Number(y) })\n      })\n    if (currentPositionList.length > 1) {\n      let [x1, y1] = currentPositionList[0].split(\",\")\n      let [x2, y2] = currentPositionList[1].split(\",\")\n      let distence = 50\n      x1 = Number(x1)\n      y1 = Number(y1)\n      x2 = Number(x2)\n      y2 = Number(y2)\n      if (x1 === x2) {\n        // 垂直\n        if (y2 < y1) {\n          distence = -50\n        }\n        position.y = y1 + distence\n        position.x = x1\n      } else {\n        if (x2 < x1) {\n          distence = -50\n        }\n        position.x = x1 + distence\n        position.y = y1 - 10\n      }\n    }\n    return position\n  }\n  setAttributes () {\n    this.isAnimation = true\n  }\n  getEdgeAnimationStyle () {\n    const style = super.getEdgeAnimationStyle()\n    style.strokeDasharray = \"5 5\"\n    style.animationDuration = \"100s\"\n    return style\n  }\n}\n\n\nclass CustomEdge extends PolylineEdge {}\n\n\nexport default {\n  type: \"custom-edge\",\n  model: CustomEdgeModel,\n  view: CustomEdge\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/logicflowConfig/edge/CustomEdge.js","module.exports = \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAsIDAsIDQwLCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBjb2xvcj0iIzAwMCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTU0MCAtOTg3LjM2KSI+PHBhdGggZD0iTTU2NS40MyAxMDAxLjljNi41NjIgMi4wODkgMTEuMzE2IDguMjMzIDExLjMxNiAxNS40ODggMCA4Ljk3NS03LjI3NSAxNi4yNS0xNi4yNSAxNi4yNXMtMTYuMjUtNy4yNzUtMTYuMjUtMTYuMjVjMC0yLjgwMi43MS01LjQzOCAxLjk1OC03Ljc0IiBmaWxsPSJub25lIiBzdHJva2U9IiNmZmYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSIzIiBzdHlsZT0iaXNvbGF0aW9uOmF1dG87bWl4LWJsZW5kLW1vZGU6bm9ybWFsIi8+PGNpcmNsZSBjeD0iNTYwIiBjeT0iMTAwMS40IiByPSIxLjUiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2ZmZiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2Utd2lkdGg9IjMiIHN0eWxlPSJpc29sYXRpb246YXV0bzttaXgtYmxlbmQtbW9kZTpub3JtYWwiLz48cGF0aCBkPSJNNTYwIDEwMTQuNGMtMS4yMDYgMC0xMS0xMC45OTktMTIuMzU0LTkuOTc1UzU1NyAxMDE2LjE0OCA1NTcgMTAxNy40czEuMzYgMyAzIDMgMy0xLjM2MSAzLTMtMS43OTQtMy0zLTN6IiBmaWxsPSIjZmZmIi8+PC9nPjwvc3ZnPgo=\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/images/delay.svg\n// module id = mrRX\n// module chunks = 1","import { h } from '@logicflow/core'\nimport BaseNode from './BaseNode'\n\n\nclass FaultNodeModel extends BaseNode.model {\n  initNodeData (data) {\n    super.initNodeData(data)\n  }\n  setAttributes () {\n    super.setAttributes()\n    const circleOnlyAsTarget = {\n      message: \"只允许从右边的锚点连出\",\n      validate: (sourceNode, targetNode, sourceAnchor, targetAnchor) => {\n        return sourceAnchor.type === \"right\"\n      }\n    }\n    this.sourceRules.push(circleOnlyAsTarget)\n    this.targetRules.push({\n      message: \"只允许连接左边的锚点\",\n      validate: (sourceNode, targetNode, sourceAnchor, targetAnchor) => {\n        return targetAnchor.type === \"left\"\n      }\n    })\n  }\n}\n\n\nclass FaultNodeView extends BaseNode.view {}\n\n\nexport default {\n  type: 'fault-node',\n  model: FaultNodeModel,\n  view: FaultNodeView\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/logicflowConfig/node/FaultNode.js","import { RectNode, RectNodeModel, h } from '@logicflow/core'\nimport { getColorRGB_check, getColorRGB_analyse, getBytesLength } from '../common/methods'\n\n\nclass RedNodeModel extends RectNodeModel {\n  /**\n   * 初始化\n   */\n  initNodeData (data) {\n    super.initNodeData(data)\n    this.width = 100\n    this.height = 30\n    this.radius = 5\n    this.iconPosition = '' // icon位置，left表示左边，'right'表示右边\n    this.defaultFill = this.properties.typeColor\n  }\n  /**\n   * 动态设置数据，区别于初始化的数据设定，该部分会响应数据变化(每次properties发生变化会触发)\n   */\n  setAttributes () {\n    if (this.text.value) {\n      let width = 30 + getBytesLength(this.text.value) * 9\n      width = Math.ceil(width / 20) * 20\n      if (width < 100) {\n        width = 100\n      }\n      this.width = width\n      this.properties.width = width\n    }\n    this.text.x = this.x + 10\n    this.text.y = this.y\n    if (this.properties.showType === 'check') {\n      this.defaultFill = getColorRGB_check(this.properties.collision, this.properties.fuzzible, this.properties.detectable, this.properties.typeColor)\n    } else if (this.properties.showType === 'analyse') {\n      this.defaultFill = getColorRGB_analyse(this.properties.state, this.properties.fuzzy_state)\n    }\n  }\n  updateText (val) {\n    super.updateText(val)\n    this.setAttributes()\n  }\n  /**\n   * 重写节点样式\n   */\n  getNodeStyle () {\n    const style = super.getNodeStyle()\n    const dataStyle = this.properties.style || {}\n    if (this.isSelected) {\n      style.strokeWidth = Number(dataStyle.borderWidth) || 2\n      style.stroke = dataStyle.borderColor || '#ff7f0e'\n    } else {\n      style.strokeWidth = Number(dataStyle.borderWidth) || 1\n      style.stroke = dataStyle.borderColor || '#999'\n    }\n    style.fill = dataStyle.backgroundColor || this.defaultFill\n    return style\n  }\n  /**\n   * 重写定义锚点\n   */\n  getDefaultAnchor () {\n    const { x, y, id, width, height } = this\n    const anchors = [\n      {\n        x: x + width / 2,\n        y: y,\n        id: `${id}_right`,\n        type: \"right\"\n      },\n      {\n        x: x - width / 2,\n        y: y,\n        id: `${id}_left`,\n        type: \"left\"\n      }\n    ]\n    return anchors\n  }\n  /**\n   *\n   */\n  getOutlineStyle () {\n    const style = super.getOutlineStyle()\n    style.stroke = 'transparent'\n    style.hover.stroke = 'transparent'\n    return style\n  }\n  /**\n   * 导出时处理导出的数据\n   */\n  getData () {\n    const data = super.getData()\n    data.properties.ui = 'node-red'\n    return data\n  }\n}\n\n\nclass RedNodeView extends RectNode {\n  /**\n   * 1.1.7版本后支持在view中重写锚点形状。\n   * 重写锚点新增\n   */\n  getAnchorShape (anchorData) {\n    const { x, y, type } = anchorData\n    return h(\"rect\", {\n      x: x - 5,\n      y: y - 5,\n      width: 10,\n      height: 10,\n      className: 'custom-anchor'\n    })\n  }\n  getShape () {\n    const {\n      text,\n      x,\n      y,\n      width,\n      height,\n      radius\n    } = this.props.model\n    const style = this.props.model.getNodeStyle()\n    return h(\n      'g',\n      {\n        className: 'lf-red-node'\n      },\n      [\n        h('rect', {\n          ...style,\n          x: x - width / 2,\n          y: y - height / 2,\n          width,\n          height,\n          rx: radius,\n          ry: radius\n        }),\n        h('g', {\n          style: 'pointer-events: none',\n          transform: `translate(${x}, ${y})`\n        }, [\n          h('rect', {\n            x: - width / 2,\n            y: - height / 2,\n            width: 30,\n            height: 30,\n            fill: '#000',\n            fillOpacity: 0.05,\n            stroke: 'none',\n          }),\n          this.getIcon(),\n          h('path', {\n            d: `M ${30 - width / 2} ${1 -height / 2 } l 0 28`,\n            stroke: '#000',\n            strokeOpacity: 0.1,\n            strokeWidth: 1\n          })\n        ])\n      ]\n    )\n  }\n  getIcon () {\n    const { width, height } = this.props.model\n    return h('image', {\n      width: 30,\n      height: 30,\n      x: - width / 2,\n      y: - height / 2,\n      href: this.props.model.properties.icon\n    })\n  }\n}\n\n\nexport default {\n  type: 'red-node',\n  model: RedNodeModel,\n  view: RedNodeView\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/logicflowConfig/node/BaseNode.js"],"sourceRoot":""}